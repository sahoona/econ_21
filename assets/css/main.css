/*
Theme Name: GP프레스 (GP 통합 테마) - Child
Theme URI: https://aivew.com/
Author: sh k & GP AI
Description: GP 커스텀 디자인 최종본. SEO 최적화 및 접근성 강화. 자식 테마 버전.
Version: 22.7.14 (SEO & Accessibility Enhanced)
Template: generatepress
*/

/* Merged from: assets/css/components/variables.css */
:root {
    /* Background Colors */
    --bg-primary: #f8f9fa;       /* Main background - Light Mode */
    --bg-secondary: #ffffff;     /* Card/content background - Light Mode */
    --bg-tertiary: #f1f3f5;      /* Muted background - Light Mode */

    --bg-primary-dark: #18191a;    /* Main background - Dark Mode */
    --bg-secondary-dark: #242526;  /* Card/content background - Dark Mode */
    --bg-tertiary-dark: #3a3a3a;   /* Muted background - Dark Mode */

    /* Text Colors */
    --text-primary: #343a40;     /* Main text - Light Mode */
    --text-secondary: #495057;   /* Secondary text - Light Mode */
    --text-muted: #000000;       /* Muted text - Light Mode */
    --text-heading: #111111;     /* Headings - Light Mode */
    --text-link: #8cbaff;        /* Links - Light Mode */

    --text-primary-dark: #e4e6eb;  /* Main text - Dark Mode */
    --text-secondary-dark: #b0b3b8;/* Secondary text - Dark Mode */
    --text-muted-dark: #8a8d91;    /* Muted text - Dark Mode */
    --text-heading-dark: #ffffff;  /* Headings - Dark Mode */
    --text-link-dark: #8cbaff;     /* Links - Dark Mode (can be same or different) */

    /* Border Colors */
    --border-primary: #e9ecef;   /* Main borders */
    --border-secondary: #dee2e6; /* Secondary borders */
    --border-meta: #ced4da;      /* Meta info borders */

    /* Accent Colors */
    --accent-color: #ffc107;     /* Theme accent */
    --white-color: #ffffff;
    --black-color: #000000;
    --facebook-blue: #1877F2;

    /* Badge Colors */
    --badge-background-color: #cc0000; /* Slightly darker red for better contrast */
    --badge-text-color: #ffffff;     /* White */

    /* Transition Defaults */
    --default-transition-duration: 0.3s;
    --default-transition-timing-function: ease;
}

/* 폰트 import는 functions.php에서 wp_enqueue_style을 통해 로드됩니다. */

/* ----------------------------------------- / / 1. 디자인 시스템 (변수) /* ----------------------------------------- */
:root {
    --container-max-width: 840px;
    --mobile-padding: 24px;
    --color-primary: #36A29B;
    --color-highlight-underline: rgba(54, 162, 155, 0.3);
    --color-text-title: #1E293B;
    --color-text-body: #334155;
    --color-text-blockquote: #5E6C77;
    --color-background: #FFFFFF;
    --color-background-soft: #F8FAFC;
    --color-border: #E2E8F0;
    --font-main: 'Pretendard Variable', 'NanumSquareNeo', 'Malgun Gothic', sans-serif;
    --font-title-logo: 'Lexend Deca', sans-serif;
    --font-extrabold-legacy: 'NanumSquareNeoExtraBold', 'Malgun Gothic', sans-serif;
}

/* Merged from: assets/css/components/layout.css */
/* ==========================================================================
   2. Accessibility & SEO Base Styles
   ========================================================================== */
/* Includes global HTML element resets, body styling, and base link styles.
   Also contains initial dark mode detection for flash prevention. */

/* Global HTML elements - Lowest priority */
html {
    scroll-behavior: smooth;
    background-color: var(--bg-primary, #f8f9fa); /* CSS 변수 사용 및 기본값 설정 / 라이트 모드 */
    color: var(--text-primary, #343a40); /* 기본 텍스트 색상 추가 */
    transition: background-color var(--default-transition-duration) var(--default-transition-timing-function), color var(--default-transition-duration) var(--default-transition-timing-function); /* 전환 효과 추가 */
    overflow-x: hidden !important;
}

/* Body - Base styling */
body {
    background-color: var(--bg-primary) !important; /* CSS 변수를 통해 배경색 적용 (다크모드 시 --bg-primary가 다크모드 값으로 변경됨) */
    color: var(--text-primary) !important; /* CSS 변수를 통해 텍스트 색상 적용 */
    font-family: Roboto, sans-serif; /* 영문 기본 폰트 */
    line-height: 1.75;
    /* 페이지 로딩 중 깜빡임 방지 및 다크/라이트 모드 전환 부드럽게 */
    transition: background-color var(--default-transition-duration) var(--default-transition-timing-function), color var(--default-transition-duration) var(--default-transition-timing-function);
    width: 100%;
    max-width: 100%;
    overflow-x: hidden !important;
}

body:lang(ko) {
    font-family: var(--font-main); /* 한글 폰트 */
}

/* Global link styling - Base level */
a {
    box-shadow: none;
    color: var(--text-primary);
    transition: color var(--default-transition-duration) var(--default-transition-timing-function), background-color var(--default-transition-duration) var(--default-transition-timing-function); /* 링크 배경색 변경도 고려 */
}

a:hover,
a:focus {
    text-decoration: none;
    box-shadow: none;
    color: var(--text-heading);
}

/* ==========================================================================
   3. Layout Structure (Medium Specificity)
   ========================================================================== */

/* ==========================================================================
   레이아웃 최종 수정안 (가장 확실한 방법)
   ========================================================================== */

/* 1. 최상위 콘텐츠 컨테이너(.site-content)의 너비를 940px로 고정하고 중앙 정렬합니다.
      이것이 모든 너비의 기준이 됩니다. */
.site-content {
    max-width: 940px !important;
    width: 100% !important;
    margin: 25px auto 0 auto !important; /* 위쪽 여백, 아래쪽 여백 0 */
    padding: 0 !important; /* 내부 패딩은 각 요소에서 제어하므로 0으로 리셋 */
    box-sizing: border-box !important;
}

/* 2. 중간 컨테이너들은 너비에 관여하지 않도록 100%로 설정합니다. */
#primary,
main.site-main#main {
    position: relative;
    z-index: 0;
    isolation: isolate;
    width: 100% !important;
    max-width: none !important;
    margin: 0 !important;
    padding: 0 !important;
    float: none !important;
    background: transparent !important;
    border: none !important;
    box-shadow: none !important;
}

/* Page structure */
#page {
    background-color: transparent;
    border: none;
    box-shadow: none;
    margin-top: 0;
}

/* Hide unused elements */
#right-sidebar,
#secondary {
    display: none;
}

/* ==========================================================================
   6. Home Page Layout (Specific Context)
   ========================================================================== */

/* Home page main container */
.site-main:not(.single-content) {
    display: flex;
    flex-direction: column;
    align-items: center;
    padding: 0;
}

/* Post cards on home page */
/* 이 규칙은 body:not(.single-post) article.post 와 중복되므로 내용을 body:not(.single-post) article.post 쪽으로 합치고 여기서는 필요한 부분만 남기거나 삭제합니다. */
/* 여기서는 body:not(.single-post) article.post 규칙이 우선적으로 적용되도록 하고, 필요한 경우 이 규칙을 삭제하거나 주석 처리합니다. */
/*
body:not(.single) .site-main article.post {
    margin: 0 auto 35px auto;
    background-color: transparent;
    border: 1px solid var(--border-primary) !important;
    padding: 0 !important;
    border-radius: 20px !important;
    box-shadow: none !important;
    overflow: hidden;
    transition: transform 0.3s ease;
    width: 100% !important;
    max-width: 600px !important;
    min-width: 0 !important;
}
*/

/* ----------------------------------------- / / 2. 기본 레이아웃 및 타이포그래피 /* ----------------------------------------- */
body {
    background-color: var(--color-background);
    font-family: var(--font-main);
    color: var(--color-text-body);
    font-weight: 450;
    line-height: 1.85;
    word-break: keep-all;
    overflow-x: hidden !important;
    -webkit-font-smoothing: antialiased;
    text-rendering: optimizeLegibility;
    letter-spacing: -0.01em;
}

/* Merged from: assets/css/components/header.css */
/* ==========================================================================
   4. Header & Navigation (Medium-High Specificity)
   ========================================================================== */

/* Site header */
.site-header {
    border-bottom: 1px solid var(--border-primary);
    box-shadow: 0 1px 2px rgba(0,0,0,.02);
    padding: 4px 0;
    padding-bottom: 5px !important;
    transition: background-color var(--default-transition-duration) var(--default-transition-timing-function), border-color var(--default-transition-duration) var(--default-transition-timing-function);
}

/* 메인 네비게이션 */
.main-navigation .main-nav > ul > li {
    margin-left: 2.5px;
    margin-right: 2.5px;
}

.main-navigation .main-nav ul li a {
    font-family: 'Spoqa Han Sans Neo', 'sans-serif';
    font-weight: 500;
    font-size: 16px;
    letter-spacing: -0.02em;
    transition: color var(--default-transition-duration) var(--default-transition-timing-function), background-color var(--default-transition-duration) var(--default-transition-timing-function);
}

/* 드롭다운 메뉴 배경 */
.main-navigation .main-nav ul ul {
    background-color: #fff;
    border: 1px solid #eaeaea;
    border-radius: 5px;
    box-shadow: 0 4px 15px rgba(0,0,0,0.08);
    transition: all 0.3s ease;
    opacity: 0;
    visibility: hidden;
    transform: translateY(10px);
}

.main-navigation .main-nav ul li:hover > ul {
    opacity: 1;
    visibility: visible;
    transform: translateY(0);
}

.main-navigation .main-nav ul ul li a {
    color: #000000 !important;
    padding: 12px 20px;
    font-size: 15px;
    border-bottom: 1px solid #f2f2f2;
}

.main-navigation .main-nav ul ul li:last-child a {
    border-bottom: none;
}

.main-navigation .main-nav ul ul li a {
    transition: color 0.3s ease;
}

.main-navigation .main-nav ul ul li a:hover {
    color: #007BFF !important;
    background-color: transparent !important;
}

/* 모바일 메뉴 토글 버튼 */
.menu-toggle, .menu-toggle span, .menu-toggle::before, .menu-toggle::after, .menu-toggle .gp-icon, .menu-toggle .gp-icon svg path {
    transition: color var(--default-transition-duration) var(--default-transition-timing-function), background-color var(--default-transition-duration) var(--default-transition-timing-function), fill var(--default-transition-duration) var(--default-transition-timing-function);
}

/* Mobile Menu Toggle Background Fix */
.menu-toggle {
    background-color: transparent !important; /* 기본 배경 투명 */
    border: none !important; /* 테두리 제거 */
    padding: 8px !important; /* 적절한 패딩 유지 */
}

.menu-toggle:hover,
.menu-toggle:focus {
    background-color: rgba(255, 255, 255, 0.1) !important; /* 호버 시 약간의 배경 표시 (선택 사항) */
}

/* Ensure GeneratePress icon itself is not adding a background */
.menu-toggle .gp-icon {
    background-color: transparent !important;
}

.site-header .main-title a {
    font-family: var(--font-title-logo);
    font-size: 22px;
    font-weight: 600;
    text-transform: uppercase;
    letter-spacing: 0.1em;
    color: #2D3748;
    text-decoration: none;
    padding: 12px 16px;
    transition: transform 0.3s ease, color 0.3s ease, text-shadow 0.3s ease;
    position: relative;
}

.site-header .main-title a:hover {
    color: #000000;
    transform: translateY(-2px);
    text-shadow: 0 4px 10px rgba(0, 0, 0, 0.1);
}

.site-header .main-title a:active {
    transform: translateY(0px);
    transition-duration: 0.1s;
}

/* Merged from: assets/css/components/content.css */
/* Page Title Styles */
.page-title, .page-title a {
    transition: color var(--default-transition-duration) var(--default-transition-timing-function);
}

/* 3. 홈페이지 카드 목록 스타일 */
body:not(.single-post) .site-main {
    display: flex;
    flex-direction: column;
    gap: 35px; /* 카드 사이 간격 */
}

body:not(.single-post) article.post {
    /* 이제 부모(.site-content)의 너비 940px를 100% 채웁니다. */
    background-color: transparent !important; /* 카드 자체 배경 투명하게 */
    border: 1px solid var(--border-primary) !important; /* 테두리 유지 */
    border-radius: 20px !important; /* 모서리 둥글게 !important 추가 */
    padding: 0 !important; /* 카드 자체 패딩 제거 */
    box-sizing: border-box;
    width: 100%;
    max-width: 800px !important; /* 카드 최대 너비 800px으로 수정 */
    margin: 0 auto 35px auto !important; /* 기존 간격 유지 및 중앙 정렬 */
    overflow: hidden !important; /* 둥근 모서리 유지를 위해 hidden으로 복원 */
    transition: background-color var(--default-transition-duration) var(--default-transition-timing-function), border-color var(--default-transition-duration) var(--default-transition-timing-function), transform var(--default-transition-duration) var(--default-transition-timing-function);
}

/* 4. 개별 포스트 본문 스타일 */
body.single article.post { /* body.single-post 에서 body.single 로 변경하여 일반 페이지도 포함 */
    background-color: var(--bg-secondary);
    border: 1px solid var(--border-primary) !important; /* 경계선 보이도록 !important 추가 */
    border-radius: 20px;
    /* padding: 30px 40px !important; */ /* 넓어진 패딩 제거 */
    box-sizing: border-box;
    width: 100%;
    margin-top: 2em; /* 상단 여백 추가 */
    margin-bottom: 2em; /* 하단 여백 추가 */
    box-shadow: 0 2px 10px rgba(0,0,0,0.1) !important; /* 그림자 명시적 설정 및 우선순위 부여 */
    transition: background-color var(--default-transition-duration) var(--default-transition-timing-function), border-color var(--default-transition-duration) var(--default-transition-timing-function), box-shadow var(--default-transition-duration) var(--default-transition-timing-function);
}

/* 5. 내부 .inside-article의 스타일 조정 */
body.single .inside-article {
    padding: 0 !important; /* article.post 에 패딩이 적용되므로 여기서는 제거 */
    background: transparent !important;
    border: none !important;
    display: block !important;
    transition: background-color var(--default-transition-duration) var(--default-transition-timing-function);
}


body:not(.single) article.post .inside-article {
    padding: 15px !important;
    background-color: var(--bg-secondary) !important;
    border: none !important;
    border-radius: 0 !important;
    overflow: hidden !important;
}

/* ==========================================================================
   5. Content & Post Layout (High Specificity)
   ========================================================================== */

/* Content transitions with performance optimization */
.entry-content,
.entry-summary {
    transition: font-size 0.2s ease, color var(--default-transition-duration) var(--default-transition-timing-function);
    will-change: font-size, color; /* Optimize for font size and color changes */
}

/* Hide single post elements */
.single-post .page-header-image-single,
.single-post .featured-image.page-header-image-single { /* 더 구체적인 선택자 추가 */
    display: none !important; /* 확실하게 숨김 처리 */
}

/* Performance optimizations */
img {
    height: auto; /* Prevent layout shifts */
    max-width: 100%;
}

/* Lazy loading support */
img[loading="lazy"] {
    opacity: 0;
    transition: opacity 0.3s;
}

img[loading="lazy"].loaded {
    opacity: 1;
}

/* Display images in content at their original size */

/* Ensure common image wrappers fill the width of .entry-content */
.entry-content .wp-block-image,
.entry-content figure {
    width: 100%;
    max-width: 100%;
    margin-left: 0;  /* Override default figure horizontal margins */
    margin-right: 0; /* Override default figure horizontal margins */
    padding-left: 0; /* Ensure no padding shrinks the available space */
    padding-right: 0;/* Ensure no padding shrinks the available space */
    box-sizing: border-box;
}

/* Styling for posts loaded via infinite scroll on ALL pages */
.site-main > article.ajax-loaded-card {
    margin: 0 auto 35px auto; /* Centering and bottom margin */
    background-color: transparent; /* Article wrapper itself is transparent */
    border: 1px solid var(--border-primary) !important; /* 홈 카드와 동일한 테두리 적용 */
    padding: 0 !important; /* 카드 자체 패딩 제거 */
    border-radius: 20px !important; /* Consistent with home page cards */
    box-shadow: none !important; /* Consistent with home page cards */
    overflow: hidden; /* Consistent with home page cards */
    width: 100% !important; /* Consistent with home page cards */
    max-width: 800px !important; /* 홈 화면 카드 너비 800px로 수정 */
    min-width: 0 !important; /* Consistent with home page cards */
}

body.single .site-main > article.ajax-loaded-card:hover,
body.single-post .site-main > article.ajax-loaded-card:hover {
    transform: translateY(-5px); /* Consistent hover effect */
    box-shadow: none !important; /* Consistent hover effect */
}

body.single .site-main > article.ajax-loaded-card > div.inside-article,
body.single-post .site-main > article.ajax-loaded-card > div.inside-article {
    padding: 25px 25px 25px 25px !important; /* Consistent padding on all sides */
    margin-bottom: 0 !important; /* Match home page inside-article */
    background-color: var(--bg-secondary) !important; /* Card content background */
    border: none !important; /* Match home page inside-article */
    border-radius: 20px; /* Match home page inside-article */
    overflow: hidden; /* Match home page inside-article */
    box-sizing: border-box !important; /* Match home page inside-article */
    display: flex; /* Added for consistency */
    flex-direction: column; /* Added for consistency */
    gap: 25px; /* Added for consistency */
    min-height: 400px; /* Unified card height */
}

/* Ensure elements within these newly styled cards also behave as expected */
/* For example, entry-header, post-image, etc. might need specific context or resets */

body.single .site-main > article.ajax-loaded-card .entry-header,
body.single-post .site-main > article.ajax-loaded-card .entry-header {
    padding-top: 25px !important; /* Match home page */
    /* Reset other properties if they conflict */
    position: relative; /* Match home page */
}

/* Specific styling for entry-title within dynamically loaded cards on single pages */
body.single .site-main > article.ajax-loaded-card .entry-title,
body.single-post .site-main > article.ajax-loaded-card .entry-title {
    display: block !important;
    width: 100% !important;
    box-sizing: border-box !important;
    background-color: var(--bg-tertiary) !important;
    color: var(--text-heading) !important;
    padding: 20px 30px !important;
    border-radius: 12px !important;
    text-align: center !important;
    margin-bottom: 1em !important;
}

/* Hide entry-footer for these cards, similar to home page */
body.single .site-main > article.ajax-loaded-card footer.entry-meta,
body.single-post .site-main > article.ajax-loaded-card footer.entry-meta {
    display: none !important;
}

/* Styling for images within ajax-loaded-card on SINGLE POST PAGES */
body.single .site-main > article.ajax-loaded-card .post-image img,
body.single-post .site-main > article.ajax-loaded-card .post-image img {
    width: 100%;
    height: auto;
    object-fit: cover; /* To mimic home page card image behavior */
    display: block;
    transition: transform 0.3s ease-in-out; /* Optional: match hover effect if any */
    /* Ensure no conflicting max-width from generic img rules if it was causing issues */
    max-width: 100%; /* This should be fine and is good practice */
}

/* Optional: Hover effect for these images if desired, similar to home page */
body.single .site-main > article.ajax-loaded-card .post-image img:hover,
body.single-post .site-main > article.ajax-loaded-card .post-image img:hover {
    transform: scale(1.03); /* 효과 축소 */
}

/* Post card hover effect - ONLY for non-single views (homepage, archives) */
body:not(.single-post) .site-main article.post:hover {
    transform: translateY(-5px);
    box-shadow: none !important; /* 카드 호버 그림자 제거 */
}

/* Remove hover effect from single post pages specifically */
body.single-post .site-main article.post:hover {
    transform: none !important;
    box-shadow: none !important; /* Ensure no shadow on hover either */
}

/* Remove outline from focused post articles */
.site-main article.post:focus {
    outline: none !important;
}

.inside-article { padding: 25px !important; display: flex; flex-direction: column; gap: 25px; box-sizing: border-box !important; }
body:not(.single) .inside-article { padding: 25px !important; }

/* Specific resets for inner container on homepage cards */
body:not(.single) article.post div.inside-article {
    padding: 15px !important; /* 내부 콘텐츠 패딩 15px로 수정 */
    margin-bottom: 0 !important;
    background-color: var(--bg-secondary) !important; /* 내부 컨테이너 배경색 흰색으로 명시 */
    border: none !important;
    border-radius: 0 !important; /* 내부 컨테이너에도 동일한 둥근 모서리 적용 */
    overflow: hidden !important; /* 상위 article.post overflow:hidden과 일관성 유지 */
    box-sizing: border-box !important;
    display: flex; /* Ensure flex properties */
    flex-direction: column; /* Ensure flex properties */
    gap: 25px; /* Ensure flex properties */
}

/* 홈 화면 브레드크럼 중앙 정렬 & AJAX loaded posts fix */
body:not(.single) .entry-header .gp-post-category {
    /* Existing styles from general .gp-post-category or this specific rule */
    display: flex !important;
    justify-content: center !important;
    align-items: center !important;
    flex-wrap: wrap !important;
    gap: 5px !important; /* From .gp-post-category general rule */
    text-align: center !important; /* From .gp-post-category general rule */
    width: 100%; /* Already exists */
    margin-bottom: 15px !important; /* Already exists */

    /* Overrides and explicit settings for AJAX-loaded items */
    position: static !important;
    visibility: visible !important;
    opacity: 1 !important;
    transform: none !important;
    top: auto !important;
    left: auto !important;
    right: auto !important;
    bottom: auto !important;
}
body:not(.single) .entry-header,
body:not(.single) .post-image,
body:not(.single) .post-image a { /* a 태그에도 overflow visible 추가 */
    overflow: visible !important; /* 이미지 호버 효과를 위해 추가 */
}
body:not(.single) .post-image, /* 기존 스타일 유지하며 분리 */
body:not(.single) .entry-summary,
body:not(.single) .read-more-container,
body:not(.single) .list-tags-container,
body:not(.single) .gp-list-star-rating {
        /* padding: 0 25px !important; */ /* Removed to allow parent .inside-article to control padding */
}
body:not(.single) .post-image {
    margin-bottom: 15px !important; /* 이미지 하단 마진 추가 */
}
body:not(.single) .entry-header { padding-top: 25px !important; }
body:not(.single) .list-tags-container { padding-bottom: 8px !important; }
body:not(.single) .gp-list-star-rating { margin-top: 10px; padding-bottom: 15px !important; }
body:not(.single) .site-main article.post:hover { transform: translateY(-5px); box-shadow: none !important; /* 카드 호버 그림자 제거 */ }

.entry-header, .featured-image, .post-image, .entry-summary, footer.tags-footer, .list-tags-container, .post-footer-sections, .read-more-container { margin: 0 !important; }
.entry-header, .featured-image, .post-image, .entry-content, .entry-summary, footer.tags-footer, .list-tags-container, .post-footer-sections, .read-more-container { width: 100%; }
.entry-header { display: flex; flex-direction: column; gap: 15px; align-items: center; }

/* Add position relative for non-single entry headers for positioning context */
body:not(.single) article.post .entry-header {
    position: relative;
}

/* 본문 페이지 브레드크럼 스타일 - 강력한 중앙정렬 */
/* === DEFINITIVE TOP META BAR ALIGNMENT FIX === */
/* This rule provides proper spacing for single post pages */
body.single .gp-top-meta-bar-container,
.single .gp-top-meta-bar-container {
    width: 100% !important;
    margin: 0 auto !important;
}

body.single .gp-top-meta-bar,
.single .gp-top-meta-bar {
    display: flex !important;
    justify-content: space-between !important;
    align-items: center !important;
    width: 100% !important;
    min-height: 42px; /* Or original height */
    position: relative !important;
    padding: 0 !important; /* Removed horizontal padding */
    box-sizing: border-box !important;
    /* gap: 0; /* Flex gap not needed when using space-between for outer elements */
}

/*
   Reverted .breadcrumb-lang-wrapper to its previous state if it was modified,
   or ensure it doesn't interfere with flex layout.
   If .gp-post-category and .gp-language-switcher are direct children of .gp-top-meta-bar,
   .breadcrumb-lang-wrapper might not be needed or might be styled differently.
   Assuming it's not a primary layout container for this specific flex setup.
*/

body.single .gp-top-meta-bar .left-buttons {
    /* Flex items align left by default, no specific justify-self or grid-column needed */
    /* Ensure no grid properties are present */
}

body.single .gp-top-meta-bar .gp-post-category, /* Targets the breadcrumb container */
.single .gp-top-meta-bar .gp-post-category {
    position: absolute !important;
    top: 50% !important;
    left: 50% !important;
    transform: translate(-50%, -50%) !important;
    width: auto !important; /* Or a specific max-width if defined previously */
    margin: 0 !important; /* Reset margin */
    /* display: flex etc. from previous rules for internal alignment are likely still fine */
    /* Remove grid-item specific properties */
    display: flex !important;
    justify-content: center !important;
    align-items: center !important;
    text-align: center !important;
    flex-wrap: wrap !important;
    gap: 5px !important;
    flex-direction: row !important;
}

.entry-title {
    background-color: transparent !important;
    padding: 20px 25px !important;
    border-radius: 15px !important;
    font-size: 2.0em !important;
    font-weight: 600 !important;
    letter-spacing: -0.04em;
    text-align: center;
    width: auto;
}
.entry-title a {
    color: var(--text-heading) !important;
    line-height: 1.4 !important;
    font-size: 0.9em !important;
    font-weight: 600 !important;
    display: inline-block; /* Added for reliable transform */
    transition: transform 0.3s ease-in-out; /* Added for smooth scaling */
}

.entry-title a:hover {
    transform: scale(1.03); /* Scale up title on hover */
}
/* 제목 회색 배경 최우선 강제 적용 */
/* General .entry-title styling (transparent background for non-single pages) */
.entry-title,
h1.entry-title,
.post .entry-title, /* Covers .entry-title within .post */
article .entry-title { /* Covers .entry-title within article */
    display: block !important;
    width: 100% !important;
    box-sizing: border-box !important;
    background-color: var(--bg-tertiary) !important; /* Light gray background for ALL titles */
    color: var(--text-heading) !important;
    padding: 20px 30px !important; /* Consistent padding */
    margin-left: 0 !important;
    margin-right: 0 !important;
    margin-bottom: 1.5em !important; /* Consistent bottom margin */
    border-radius: 12px !important; /* Consistent rounded corners */
    text-align: center !important;
}

/* Specific styles for single post titles - mostly inherited now, ensure no conflicts */
body.single .entry-title,
body.single .entry-header .entry-title,
body.single h1.entry-title {
    margin-bottom: 0 !important; /* Single post title might have slightly different bottom margin if needed */
    /* Other styles are inherited from the general .entry-title rule above */
}

/* Adjust .entry-title padding and margin on homepage cards for better cohesion */
body:not(.single) article.post .entry-title {
    /* Styles are now largely inherited from the general .entry-title rule.
       If specific overrides are needed for homepage cards, they go here.
       For example, if margin-bottom needs to be different: */
    margin-bottom: 1em !important;
    /* Padding, background, radius, etc., are inherited. */
}

.featured-image, .post-image { position: relative !important; }
.featured-image > a, .post-image > a { display: block; position: relative; }
.featured-image img, .post-image img { width: auto; height: auto; display: block; max-width: none; }
body:not(.single) .post-image img {
    width: 100%;
    height: auto;
    object-fit: contain;
    display: block; /* Already effectively applied, but good to be explicit */
    transition: transform 0.3s ease-in-out; /* Add transition for smooth scaling */
    background-color: var(--bg-tertiary);
}

body:not(.single) .post-image img:hover {
    transform: scale(1.03); /* Scale up image on hover - 효과 축소 */
}

body.single .featured-image {
    width: 100%;
    max-width: 100%;
    margin-left: 0; /* Overrides potential theme defaults */
    margin-right: 0; /* Overrides potential theme defaults */
    padding-left: 0; /* Ensure no padding that shrinks content box */
    padding-right: 0; /* Ensure no padding that shrinks content box */
    box-sizing: border-box;
}

body.single .featured-image img {
    width: 100%;
    height: auto;
    display: block; /* Explicitly ensure */
    object-fit: unset;
    max-width: 100%;
}

/* === 최종 수정 v3: 포스트 메타 및 헤더 간격/디자인 통합 === */

/* 1. 헤더 컨테이너의 간격을 gap으로만 제어하고, 자식들을 왼쪽 정렬합니다. */
body.single .entry-header {
    display: flex !important;
    flex-direction: column !important;
    align-items: flex-start !important; /* Keeps title and meta bar left-aligned within themselves */
    gap: 15px !important; /* Space between title and meta bar. */
    margin-bottom: 25px !important; /* Space after meta bar, before image. */
}

/* 2. 제목과 메타 바의 개별 하단 마진을 제거하여 GAP 중복을 방지합니다. */
body.single .entry-title,
body.single h1.entry-title,
body.single .gp-meta-bar-after-title {
    margin-bottom: 0 !important; /* This is correct */
}

/* 3. 메타 정보 바(작성자, 날짜 등)를 우측 정렬합니다. */
.gp-meta-bar-after-title {
    display: flex !important;
    justify-content: flex-end !important; /* Align boxes to the right */
    flex-wrap: wrap !important; /* Allow wrapping */
    align-items: flex-start !important; /* Changed from flex-start */
    gap: 10px !important; /* HORIZONTAL gap between boxes, changed from 8px */
    width: 100% !important;
    margin-top: 0 !important; /* Spacing above is handled by .entry-header's gap */
    min-height: 36px; /* Ensure it has at least the height of one pill */
    overflow: visible !important; /* Ensure content isn't clipped */
}

.gp-meta-bar-after-title .posted-on-wrapper,
.gp-meta-bar-after-title .reading-time-meta,
.gp-meta-bar-after-title .byline {
    opacity: 1 !important;
    visibility: visible !important;
}

/* 4. 메타 정보 박스들의 디자인과 크기를 통일하고 텍스트를 중앙 정렬합니다. */
/* Styling for date-primary and date-secondary (no transition) */
/* This rule block is now removed as its styles are consolidated into the block around L624 */

/* Styling for other meta boxes (with transition) */
.posted-on-wrapper, /* Still shares some base flex properties */
.reading-time-meta,
.byline {
    display: flex !important;
    align-items: center !important; /* Vertical alignment of content within each item */
    /* justify-content: center !important; */ /* Removed */
    /* height: 36px !important; */ /* Removed */
    min-width: 110px !important; /* Default base min-width, overridden for reading-time-meta below */
    flex-grow: 0 !important;
    flex-shrink: 0 !important;
    flex-basis: auto !important;
    /* padding: 0 12px !important; */ /* Removed */
    /* background-color: var(--bg-secondary) !important; */ /* Removed */
    /* border: 1px solid var(--border-meta) !important; */ /* Removed */
    /* border-radius: 50px !important; */ /* Removed */
    font-size: 0.9rem !important;
    line-height: 1 !important;
}

/* Specific min-width for reading-time-meta */
.reading-time-meta {
    min-width: 70px !important;
}

/* Ensure .byline retains its original min-width if it was part of the group */
.byline {
    min-width: 70px !important; /* Adjusted to match .reading-time-meta or be more flexible */
    text-align: center !important;
    box-sizing: border-box !important;
    transition: transform 0.2s ease, box-shadow 0.2s ease, background-color 0.2s ease, color 0.2s ease, border-color 0.2s ease;
    vertical-align: top !important;
    margin: 0 !important;
    position: relative !important; /* Added for tooltip positioning */
}

.reading-time-meta,
.byline {
    justify-content: center !important; /* Horizontally center content */
    height: 36px !important;
    padding: 8px 15px !important; /* Standardized padding */
    background-color: var(--bg-secondary) !important;
    border: 1px solid var(--border-meta) !important;
    border-radius: 50px !important;
    position: relative !important; /* Ensure tooltip positioning context */
}

/* Specific override for .posted-on-wrapper to ensure it has a larger min-width */
.posted-on-wrapper {
    display: block !important; /* Changed from flex */
    position: relative !important;
    width: 180px !important;
    height: 36px !important;
    border: 1px solid var(--border-meta) !important;
    border-radius: 50px !important;
    overflow: hidden !important; /* To ensure children stay contained */
    background-color: var(--bg-secondary) !important; /* Wrapper is the pill background */
    /* Removed: flex-direction, align-items, min-width */
    /* Other base styles like font-size, line-height, etc., are inherited from the modified group rule */
    /* flex-grow, flex-shrink, flex-basis inherited or fine */
}

/* === START: Date Toggle Overlay & Animation Styles === */
.posted-on-wrapper .date-primary,
.posted-on-wrapper .date-secondary {
    position: absolute !important;
    top: 0 !important; /* Confirmed */
    left: 0 !important; /* Confirmed */
    width: 100% !important; /* Fill the wrapper */
    height: 100% !important; /* Fill the wrapper */
    margin: 0 !important; /* Explicitly added/ensured */
    padding: 8px 25px !important; /* Increased left/right padding by 10px (15px + 10px) */
    display: flex !important; /* For centering content within */
    align-items: center !important; /* Confirmed */
    justify-content: center !important; /* Confirmed */
    text-align: center !important;
    background-color: transparent !important; /* Content layers are transparent; wrapper has bg */
    border: none !important; /* Removed border */
    border-radius: 0 !important; /* Removed border-radius */
    font-size: 0.9rem !important;
    line-height: 1 !important;
    color: var(--text-primary);
    box-sizing: border-box !important;
    white-space: nowrap !important;
    overflow: hidden !important;
    text-overflow: ellipsis !important;
    transition: opacity 0.2s ease-in-out !important;
    backface-visibility: hidden !important;
}

/* NEW Visibility Rules using Opacity */
.posted-on-wrapper .date-primary {
    opacity: 1 !important;
    pointer-events: auto !important;
}
.posted-on-wrapper .date-secondary {
    opacity: 0 !important;
    pointer-events: none !important;
}
.posted-on-wrapper.state-published-visible .date-primary {
    opacity: 0 !important;
    pointer-events: none !important;
}
.posted-on-wrapper.state-published-visible .date-secondary {
    opacity: 1 !important;
    pointer-events: auto !important;
    color: var(--text-primary) !important; /* Re-affirming color, transparent bg is inherited */
    /* Ensure flex centering properties are explicitly set for this active state */
    display: flex !important;
    align-items: center !important;
    justify-content: center !important;
    /* margin-top: 10px !important; /* REMOVED - not needed with absolute positioning */
}

/* === END: Date Toggle Overlay & Animation Styles === */


/* 홈 화면 및 AJAX 요약 텍스트 스타일 */
.entry-summary {
    font-family: var(--font-main);
    font-size: 1.0em;
    font-weight: 450 !important;
    letter-spacing: -0.025em;
    line-height: 1.9;
    color: var(--text-secondary);
    word-break: keep-all;
}

/* 본문 스타일 제거 - 구텐베르크 원본 유지 */
/* article.post .entry-content p:not(:is(blockquote p, .no-ident)) { padding-left: 1.5em !important; } */

.tags-links a, .list-tags-container a { display: inline-flex !important; align-items: center; background-color: var(--bg-tertiary) !important; color: var(--text-secondary) !important; border: 1px solid var(--border-secondary) !important; padding: 8px 16px !important; border-radius: 50px !important; margin: 0 4px 8px 4px !important; font-size: 0.9rem !important; font-weight: 500; transition: transform 0.2s ease, box-shadow 0.2s ease, background-color 0.2s ease, color 0.2s ease, border-color 0.2s ease; line-height: 1; text-decoration: none !important; }
.tags-links a:hover, .list-tags-container a:hover { transform: translateY(-2px); box-shadow: 0 4px 12px rgba(0,0,0,0.08); background-color: var(--text-primary) !important; color: var(--white-color) !important; border-color: var(--text-primary) !important; text-decoration: none !important; }
footer.tags-footer, .list-tags-container {
    display: block;
    width: 100%; /* Assuming this was reinstated or kept from an earlier step */
    background-color: transparent !important;
    text-align: center !important; /* ADDED BACK */
    /* margin-left: auto; REMOVED */
    /* margin-right: auto; REMOVED */
    /* display: table; REMOVED */
}

/* 글 본문 (single post) 페이지의 태그 박스 여백 조정 */
body.single-post footer.tags-footer,
body.single-post .list-tags-container {
    margin-top: 2.5em !important; /* 태그 박스 위쪽 여백 확보 */
    margin-bottom: 2.5em !important; /* 태그 박스와 다음 섹션 사이의 여백 확보 */
    padding-top: 1em !important; /* 태그 링크들과 컨테이너 상단 경계 사이의 내부 여백 */
    padding-bottom: 1em !important; /* 태그 링크들과 컨테이너 하단 경계 사이의 내부 여백 */
}

/* 홈 화면 및 아카이브 페이지의 태그 박스 여백은 기존 유지 또는 최소화 */
body:not(.single-post) footer.tags-footer,
body:not(.single-post) .list-tags-container {
    margin-top: 15px !important; /* 기존 또는 약간의 상단 여백 */
    margin-bottom: 15px !important; /* 기존 또는 약간의 하단 여백 */
    padding-top: 0 !important;
    padding-bottom: 8px !important; /* 기존 홈화면 태그 하단 패딩 복원 */
}


/* Center-align the tag links within their specific .tags-links container */
footer.tags-footer .tags-links {
    display: block; /* Or can be omitted if it's a div and this is default */
    width: -moz-fit-content; /* Firefox compatibility */
    width: fit-content;   /* Standard property to shrink-wrap content */
    margin-left: auto;  /* Center the block */
    margin-right: auto; /* Center the block */
    text-align: center !important; /* Center the inline/inline-block tags within this block */
}

.gp-star-rating-container.voted:not(.editing) .edit-rating-btn:hover {
    font-size: 1.05em !important; /* !important: Ensures specific visual feedback on hover. */
    color: var(--accent-color) !important; /* !important: Ensures specific visual feedback on hover. */
    border-color: var(--accent-color) !important; /* !important: Ensures specific visual feedback on hover. */
    /* transform and box-shadow should be inherited from .rating-action-btn:hover if not overridden */
}

.entry-content, .post-content, .page-content {
    max-width: var(--container-max-width);
    margin-left: auto;
    margin-right: auto;
    padding-left: var(--mobile-padding);
    padding-right: var(--mobile-padding);
    box-sizing: border-box;
    width: 100%;
    line-height: 1.8;
    word-break: keep-all;
    overflow-wrap: break-word;
}

.entry-title, .entry-content h1 {
    font-family: var(--font-main);
    font-weight: 800;
    text-align: center;
    color: var(--color-text-title);
    padding: 0;
}

.entry-content p, .post-content p, .page-content p {
    letter-spacing: -0.025em;
    line-height: 1.9;
    padding-left: 0;
    margin-bottom: 1.5em;
}

.entry-content h2, .post-content h2 {
    font-family: var(--font-main);
    font-size: 1.8em;
    font-weight: 700;
    margin: 2em 0 1.2em 0;
    padding: 18px 25px 14px 40px;
    position: relative;
    border: none;
    background: none;
    color: var(--color-text-title);
    border-left: 10px solid var(--color-primary);
    background-color: rgba(54, 162, 155, 0.05);
    border-radius: 0 8px 8px 0;
    border-image: none;
}

.entry-content h3, .post-content h3 {
    font-family: var(--font-main);
    font-size: 1.6em;
    font-weight: 700;
    margin: 2em 0 1.5em 0;
    padding-bottom: 10px;
    padding-left: 0;
    border-bottom: 2px solid var(--color-border);
    color: var(--color-text-title);
    position: relative;
    border-image: none;
}

.entry-content h4, .post-content h4 {
    font-family: var(--font-main);
    font-size: 1.2em;
    font-weight: 600;
    margin: 2em 0 1em 0;
    color: var(--color-text-title);
    display: flex;
    align-items: center;
    gap: 0.7em;
    padding-left: 0;
    line-height: 1.5;
}

.entry-content h4::before {
    content: '■';
    color: var(--color-primary);
    font-size: 0.8em;
    line-height: 1;
}

.entry-content strong, .post-content strong, .entry-content b, .post-content b {
    font-weight: 600;
    color: var(--color-text-title);
    box-shadow: inset 0 -0.45em 0 var(--color-highlight-underline);
    padding: 0.05em 0.15em;
    -webkit-box-decoration-break: clone;
    box-decoration-break: clone;
}

.entry-content hr:not(.econark-disclaimer-box hr), .post-content hr:not(.econark-disclaimer-box hr) {
    border: none;
    height: 1px;
    background-color: var(--color-border);
    margin: 2.2em 0;
}

.entry-content blockquote, .post-content blockquote {
    margin: 40px 0;
    padding: 40px;
    border-left: 5px solid var(--color-primary);
    border-top: 1px solid var(--color-border);
    border-bottom: 1px solid var(--color-border);
    border-radius: 8px;
    background: var(--color-background-soft);
}

.entry-content blockquote p, .post-content blockquote p {
    color: var(--color-text-blockquote);
    font-size: 0.9em;
    font-style: normal;
    line-height: 1.7;
}

/* === 블릿 리스트 스타일 초기화 및 재정의 === */

/* 1. 모든 ul 태그의 기본 블릿 모양과 들여쓰기를 제거합니다. */
.entry-content ul, .post-content ul, .page-content ul {
    list-style: none !important;
    padding-left: 0 !important;
    margin-left: 0 !important;
}

/* 2. li 태그의 좌측 패딩을 0으로 고정하고, 하단 구분선과 간격을 재정의합니다. */
.entry-content ul li,
.post-content ul li,
.page-content ul li {
    padding-left: 0 !important;
    margin-bottom: 1em !important;
    padding-bottom: 1em !important;
    border-bottom: 1px solid var(--color-border) !important; /* 테두리 두께를 일관성 있게 조정 */
}

/* 3. 마지막 li 태그의 하단 구분선을 제거하여 깔끔하게 마무리합니다. */
.entry-content ul li:last-child,
.post-content ul li:last-child,
.page-content ul li:last-child {
    border-bottom: none !important;
    margin-bottom: 0; /* 마지막 항목의 하단 마진 제거 */
    padding-bottom: 0; /* 마지막 항목의 하단 패딩 제거 */
}

/*
 * Prevent Cumulative Layout Shift (CLS) on lazy-loaded images by
 * reserving space with a consistent aspect ratio.
 */
.post-image {
    aspect-ratio: 16 / 9;
    overflow: hidden;
    background-color: #f0f0f0; /* Light grey placeholder background */
    position: relative;
}

.post-image img {
    width: 100%;
    height: 100%;
    object-fit: cover;
    object-position: center;
    transition: opacity 0.3s ease-in-out;
}

/* Hide the lazy-load image until it's loaded */
.post-image img.lazy-load {
    opacity: 0;
}

/* Fade in the image once it has loaded */
.post-image img.loaded {
    opacity: 1;
}

/* Merged from: assets/css/components/back-to-top.css */
.floating-buttons-container {
    position: fixed;
    right: 15px;
    bottom: 15px;
    z-index: 1000;
    opacity: 0;
    transform: translateY(20px);
    pointer-events: none;
    transition: opacity 0.3s ease-in-out, transform 0.3s ease-in-out;
}

.generate-back-to-top {
    width: 52px;
    height: 52px;
    border-radius: 16px;
    background-color: var(--bg-secondary);
    border: 1px solid var(--border-primary);
    box-shadow: 0 4px 12px rgba(0,0,0,0.1);
    cursor: pointer;
    display: flex;
    justify-content: center;
    align-items: center;
    padding: 0;
    color: var(--text-primary);
}

.generate-back-to-top:hover {
    transform: translateY(-2px);
    box-shadow: 0 6px 16px rgba(0,0,0,0.12);
    border-color: var(--accent-color);
}

.floating-buttons-container.show-back-to-top {
    opacity: 1;
    transform: translateY(0);
    pointer-events: auto;
}

.generate-back-to-top .gp-icon {
    display: none;
}

.generate-back-to-top::before {
    content: '';
    display: block;
    width: 24px;
    height: 24px;
    background-color: currentColor;
    mask-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='24' height='24' viewBox='0 0 24 24' fill='none' stroke='currentColor' stroke-width='2' stroke-linecap='round' stroke-linejoin='round'%3E%3Cpath d='M12 19V5M5 12l7-7 7 7'/%3E%3C/svg%3E");
    mask-size: contain;
    mask-position: center;
    mask-repeat: no-repeat;
}

html.no-js .floating-buttons-container {
    display: none;
}

/* Merged from: assets/css/components/comments.css */
/* Comments Area */
.comments-area {
    margin-top: 50px;
    padding-top: 30px;
    border-top: 1px solid #e5e5e5;
}

.comments-title, .comment-reply-title {
    font-size: 24px;
    font-weight: 700;
    color: #222;
    margin-bottom: 30px;
}

/* Comment List */
.comment-list {
    list-style: none;
    padding: 0;
    margin: 0;
}

.comment {
    margin-bottom: 25px;
    padding-bottom: 25px;
    border-bottom: 1px solid #f0f0f0;
}

.comment:last-child {
    border-bottom: none;
}

.comment .children {
    list-style: none;
    padding-left: 30px;
    margin-top: 20px;
}

/* Comment Author */
.comment-author {
    display: flex;
    align-items: center;
    margin-bottom: 12px;
}

.comment-author .avatar {
    width: 40px;
    height: 40px;
    border-radius: 50%;
    margin-right: 15px;
}

.comment-author .fn {
    font-size: 16px;
    font-weight: 600;
    color: #333;
    font-style: normal;
    margin-right: 10px;
}

/* Comment Metadata */
.comment-meta {
    font-size: 11px;
    color: #888;
    display: inline;
    font-weight: 300;
}

.comment-author-info {
    display: flex;
    align-items: center;
    justify-content: space-between;
    width: 100%;
}

.comment-author .fn a {
    color: #000;
    text-decoration: none;
}

.comment-meta a {
    color: #888;
    text-decoration: none;
    transition: color 0.3s;
}

.comment-meta a:hover {
    color: #0073aa;
}

/* Comment Content */
.comment-content {
    font-size: 15px;
    line-height: 1.7;
    color: #444;
}

/* Reply Link */
.reply {
    margin-top: 10px;
}

.comment-reply-link {
    background-color: #0073aa;
    color: #fff;
    border: none;
    padding: 5px 15px;
    border-radius: 20px;
    cursor: pointer;
    font-size: 12px;
    font-weight: 500;
    text-decoration: none;
    transition: background-color 0.3s;
}

.comment-reply-link:hover {
    background-color: #005a87;
    color: #fff;
}

/* Comment Form */
.comment-respond {
    margin-top: 40px;
    padding: 30px;
    background-color: #f5f7f9;
    border-radius: 8px;
}

.comment-form p {
    margin-bottom: 20px;
}

.comment-form label {
    display: block;
    margin-bottom: 8px;
    font-size: 14px;
    font-weight: 600;
    color: #333;
}

.comment-form input[type="text"],
.comment-form input[type="email"],
.comment-form input[type="url"],
.comment-form textarea {
    width: 100%;
    padding: 12px 20px;
    border: 1px solid #dcdcdc;
    border-radius: 30px; /* Pillbox style */
    background-color: #fff;
    font-size: 15px;
    transition: border-color 0.3s, box-shadow 0.3s;
}

.comment-form input:focus,
.comment-form textarea:focus {
    border-color: #0073aa;
    box-shadow: 0 0 5px rgba(0, 115, 170, 0.1);
    outline: none;
}

.comment-form-email-privacy {
    display: flex;
    align-items: center;
    margin-top: 10px;
}

.comment-form-email-privacy input {
    width: auto;
    margin-right: 10px;
}

.comment-form-email-privacy label {
    margin: 0;
    font-size: 13px;
    font-weight: normal;
    color: #555;
}

.comment-form .form-submit {
    text-align: right;
    margin-top: 20px;
}

.comment-form .form-submit .submit {
    background-color: #0073aa;
    color: #fff;
    border: none;
    padding: 12px 35px;
    border-radius: 30px; /* Pillbox style */
    cursor: pointer;
    font-size: 16px;
    font-weight: 600;
    transition: background-color 0.3s;
}

.comment-form .form-submit .submit:hover {
    background-color: #005a87;
}

input[type="email"]:disabled {
    background-color: #f0f0f0;
    cursor: not-allowed;
}

/* Merged from: assets/css/components/dark_mode.css */
html.dark-mode-active .post-thumbnail .new-badge,
html.dark-mode-active .post-thumbnail::before {
    font-weight: 700 !important;
}
html.dark-mode-active li.pll-parent-menu-item ul.sub-menu li.current-lang a {
    font-weight: 700 !important;
}
html.dark-mode-active body:not(.single) .site-main article.post .entry-title {
    background-color: var(--bg-primary) !important;
    color: var(--text-primary) !important;
}
html.dark-mode-active .gp-copy-url-btn {
    background-color: transparent !important; /* 다크모드 배경색 없음 */
    color: var(--text-primary) !important; /* 다크모드 아이콘 색상 */
    border: none !important;
    box-shadow: none !important;
}
html.dark-mode-active .gp-copy-url-btn:hover {
    color: var(--accent-color) !important; /* 다크모드 호버 시 강조 색상 */
    background-color: transparent !important; /* 배경색 없음 유지 */
    box-shadow: 0 4px 12px rgba(255,255,255,0.1) !important;
}
html.dark-mode-active .gp-copy-url-btn.copied {
    background-color: #40c057 !important;
    color: var(--white-color) !important;
    border: none !important;
    box-shadow: none !important;
}
html.dark-mode-active .posted-on-wrapper .date-secondary .date-label {
    color: var(--text-muted) !important;
}
html.dark-mode-active .posted-on-wrapper .date-secondary {
    background-color: var(--bg-tertiary) !important;
    border: 1px solid var(--border-secondary) !important;
    color: var(--text-secondary) !important;
    /* Shape and size are inherited, only color/border-color overrides needed for dark mode */
}
html.dark-mode-active .posted-on-wrapper.expanded .date-secondary {
    border-top-color: var(--border-secondary) !important;
}
html.dark-mode-active .gp-copy-url-btn {
    background-color: var(--bg-tertiary) !important;
    border: none !important; /* Border removed for dark mode */
}
html.dark-mode-active .social-share-btn.facebook,
html.dark-mode-active .social-share-btn.x-btn {
    border: 1px solid var(--border-secondary) !important;
    transition: border-color var(--default-transition-duration) var(--default-transition-timing-function);
}
html.dark-mode-active .comment-form-comment textarea {
    background: var(--bg-tertiary) !important;
    border-color: var(--border-secondary) !important;
    color: var(--text-primary) !important;
    transition: background-color var(--default-transition-duration) var(--default-transition-timing-function), border-color var(--default-transition-duration) var(--default-transition-timing-function), color var(--default-transition-duration) var(--default-transition-timing-function);
}
html.dark-mode-active .comment-form-comment textarea:focus {
    border-color: var(--accent-color) !important;
}
html.dark-mode-active .logged-in-as a {
    color: var(--text-link) !important;
    transition: color var(--default-transition-duration) var(--default-transition-timing-function);
}
html.dark-mode-active #respond {
    border-top-color: var(--border-primary) !important;
}
html.dark-mode-active .manual-ad-container {
    border-color: transparent;
}
html.dark-mode-active .archive-header {
    background-color: var(--bg-secondary);
    border-color: var(--border-primary);
}
html.dark-mode-active .archive .site-main > article.post {
    background-color: var(--bg-secondary) !important;
    border-color: var(--border-primary) !important;
}
html.dark-mode-active .archive .site-main > article.post:hover {
    box-shadow: 0 10px 20px rgba(0,0,0,0.2);
}
html.dark-mode-active .paging-navigation .nav-links {
    background-color: var(--bg-secondary);
    border-color: var(--border-primary);
}
html.dark-mode-active .paging-navigation a.page-numbers,
html.dark-mode-active .paging-navigation span.page-numbers {
    color: var(--text-secondary);
}
html.dark-mode-active .paging-navigation a.page-numbers:hover {
    background-color: var(--bg-tertiary);
    color: var(--text-heading);
}
html.dark-mode-active .paging-navigation .page-numbers.current {
    background-color: var(--accent-color);
    color: var(--bg-primary);
}
html.dark-mode-active #adblock-warning-box {
    background-color: var(--bg-secondary-dark);
}
html.dark-mode-active .site-footer {
    background-color: var(--bg-primary) !important; /* 다크 모드 기본 배경색 */
    color: var(--text-secondary) !important;      /* 다크 모드 기본 텍스트 색상 */
    /* border-top: 1px solid var(--border-primary) !important; */ /* 상단 구분선 제거 시도 */
    margin-top: 25px !important; /* 이전/다음 글 내비게이션과의 간격 확보 */
    transition: background-color var(--default-transition-duration) var(--default-transition-timing-function), color var(--default-transition-duration) var(--default-transition-timing-function), border-color var(--default-transition-duration) var(--default-transition-timing-function), margin-top var(--default-transition-duration) var(--default-transition-timing-function);
}
html.dark-mode-active .site-footer *,
html.dark-mode-active .site-info,
html.dark-mode-active .footer-bar,
html.dark-mode-active #block-21,
html.dark-mode-active .site-footer-dark,
html.dark-mode-active .site-footer-dark p {
    background-color: transparent !important; /* 자식 요소들의 배경은 투명하게 하여 부모 색이 비치도록 함 */
    color: var(--text-secondary) !important;  /* 텍스트 색상 강제 적용 */
    /* 크기 일관성을 위해 line-height, padding 등 크기 관련 속성은 라이트 모드 스타일을 따르도록 함 */
    /* font-weight: 500 !important; */ /* 텍스트 두께는 필요한 경우 개별 요소에서 조정 */
    transition: color var(--default-transition-duration) var(--default-transition-timing-function), background-color var(--default-transition-duration) var(--default-transition-timing-function);
}
html.dark-mode-active .site-footer a {
    color: var(--text-link) !important; /* 다크 모드용 링크 색상 */
    transition: color var(--default-transition-duration) var(--default-transition-timing-function);
}
html.dark-mode-active .site-footer a:hover {
    color: var(--text-heading) !important; /* 호버 시 더 밝은 색상으로 변경 */
}
html.dark-mode-active .gp-star-rating-container.voted:not(.editing) .edit-rating-btn:hover {
    color: var(--accent-color) !important; /* !important: Ensures specific visual feedback on hover in dark mode. */
    border-color: var(--accent-color) !important; /* !important: Ensures specific visual feedback on hover in dark mode. */
    /* font-size will be inherited from the non-dark mode hover rule above */
}
html.dark-mode-active .gp-post-category a {
    background-color: var(--bg-secondary) !important;
    color: var(--text-primary) !important;
    border-color: var(--border-secondary) !important;
}
html.dark-mode-active .gp-post-category a:hover {
    background-color: #4a5a6a !important; /* Slightly lighter than pure black for hover in dark */
    color: var(--white-color) !important;
    border-color: #4a5a6a !important;
}
html.dark-mode-active .gp-post-category span.breadcrumb-separator {
    color: var(--text-muted) !important;
}
html.dark-mode-active #scrollToTopBtn:hover {
    background-color: rgba(60, 60, 60, 0.9) !important; /* Slightly lighter dark for hover */
    opacity: 0.9 !important;
}
html.dark-mode-active #scrollToTopBtn:active {
    background-color: rgba(80, 80, 80, 0.9) !important; /* Lighter dark for active */
    transform: scale(0.95) !important;
}

html.dark-mode-active .generate-columns-container {
    background-color: var(--bg-secondary) !important;
}
html.dark-mode-active body:not(.single) .site-main article.post { background-color: transparent !important; /* Individual cards will have their own background */ /* Ensure border-radius and overflow are consistent if needed, but they should be inherited from the light mode body:not(.single) .site-main article.post rule */ }

html.dark-mode-active main.site-main#main { /* Added specific rule for main#main */
    background-color: transparent !important;
    border: none !important;
    border-radius: 0 !important;
    overflow: visible !important;
    padding: 0 !important; /* padding은 0으로 유지 또는 필요시 조정 */
    max-width: 940px !important; /* .site-content와 일치하도록 수정 및 !important 추가 */
    margin-left: auto !important; /* !important 추가 */
    margin-right: auto !important; /* !important 추가 */
    margin-bottom: 25px !important; /* 푸터와의 간격 확보 */
}

html.dark-mode-active body:not(.single) main.site-main#main {
    background-color: var(--bg-primary) !important;
    border: none !important;
    border-radius: 0 !important;
    overflow: visible !important; /* Reset overflow, was hidden for single post view */
    max-width: 940px !important; /* .site-content와 일치하도록 수정 및 !important 추가 */
    margin-left: auto !important; /* !important 추가 */
    margin-right: auto !important; /* !important 추가 */
    margin-bottom: 25px !important; /* 푸터와의 간격 확보 */
}

/* 다크모드에서 흰색 배경 요소들 강제 수정 */
html.dark-mode-active .wp-block-columns,
html.dark-mode-active .wp-block-column,
html.dark-mode-active .wp-block-group,
html.dark-mode-active .has-white-background-color {
    background-color: var(--bg-secondary) !important;
    color: var(--text-primary) !important;
}

/* html.dark-mode-active .entry-content div {
    background-color: var(--bg-secondary) !important;
    color: var(--text-primary) !important;
} */

/* Ensure .inside-article has a white background in light mode */
html:not(.dark-mode) .inside-article {
    background-color: var(--bg-secondary) !important; /* --bg-secondary is #ffffff */
}

/* Ensure .entry-content also has a white background in light mode,
   or transparent if .inside-article is always its direct white parent.
   Setting to white is safer. */
html:not(.dark-mode) .entry-content {
    /* If a default text color was lost from the deleted broad rule,
       it can be re-applied here more safely: */
    /* color: var(--text-primary); */
}

/* Ensure article.post and .site-main in light mode have transparent background
   if they are not meant to be explicit cards. This helps avoid double backgrounds
   when an outer container like .site-content already has a background. */
html:not(.dark-mode) .site-main {
    /* Only apply general color, background should be inherited or specific */
    color: #333333 !important;
    background-color: transparent !important; /* Explicitly make these transparent */
    /* The selector 'html:not(.dark-mode) article.post' has been removed from this rule. */
}

html.dark-mode-active .content-area#primary { /* Made selector more specific */
    background-color: var(--bg-primary) !important; /* Changed from --bg-secondary */
}

html.dark-mode-active .inside-article {
    background-color: transparent !important;
    color: var(--text-primary) !important; /* Ensure text contrast */
    border: none !important;
    /* Padding is now handled by more specific rules or inherited */
}

html.dark-mode-active body.single .inside-article {
    background-color: transparent !important; /* 내부 컨테이너는 투명하게 */
    border: none !important; /* 내부 컨테이너 테두리 제거 */
    border-radius: 0 !important; /* 내부 컨테이너 둥근 모서리 제거 */
    padding-left: 20px !important; /* 다크모드 데스크탑 .inside-article 좌우 패딩 */
    padding-right: 20px !important; /* 다크모드 데스크탑 .inside-article 좌우 패딩 */
    padding-top: 0 !important; /* 상하 패딩은 0 또는 필요한 값으로 조정 */
    padding-bottom: 0 !important; /* 하단 간격 확보 */
    color: var(--text-primary) !important;
            max-width: 940px; /* Ensure this is present */
            margin: 0 auto;   /* Ensure this is present */
}

html.dark-mode-active .singular-post-content {
    background-color: transparent !important; /* Will show parent's bg */
    color: var(--text-primary) !important; /* Ensure text is light against dark parent */
    padding: 0 !important;
    margin: 0 !important; /* Override its own default margin */
    border: none !important;
    box-shadow: none !important;
}

html.dark-mode-active .inside-article > div, /* Targeting direct div children */
html.dark-mode-active .inside-article p,
html.dark-mode-active .inside-article li,
html.dark-mode-active .inside-article h1,
html.dark-mode-active .inside-article h2,
html.dark-mode-active .inside-article h3,
html.dark-mode-active .inside-article h4,
html.dark-mode-active .inside-article h5,
html.dark-mode-active .inside-article h6 {
    background-color: transparent !important;
    color: var(--text-primary) !important;
}

body.single .inside-article {
    background-color: var(--bg-secondary);
    border: 1px solid var(--border-primary);
    border-radius: 20px;
    padding: 20px !important; /* 통일된 20px 패딩 */
    /* overflow: hidden; was removed */
    max-width: 940px; /* Ensure this is present */
    margin: 0 auto;   /* Ensure this is present */
}

/* Specific styling for homepage post cards is handled elsewhere,
   e.g., .site-main article.post */

/* ==========================================================================
   FEATURES CSS MERGED - HIGHER PRIORITY
   ========================================================================== */
/* This section contains a collection of styles originally from features.css.
   It includes styles for various components and features.
   TODO: These rules should be reviewed and integrated into their respective
   thematic sections (e.g., TOC, Star Ratings, Reactions, Social Share, etc.)
   for better organization and maintainability. Some !important tags may be present
   to ensure these styles override parent theme or other defaults. */

/* Progress Bar & Loading States */
html.dark-mode-active-loading,
html.dark-mode-active-loading body {
    background-color: #121212 !important;
}

#mybar {
    position: fixed !important; /* !important 추가 */
    top: 0 !important; /* !important 추가 */
    left: 0 !important; /* !important 추가 */
    z-index: 99999 !important; /* z-index 값 증가 및 !important 추가 */
    width: 0; /* JS에서 제어하므로 유지 */
    height: 3px !important; /* 높이를 3px로 수정 (기존 5px에서 2px 감소) */
    background: linear-gradient(90deg, rgba(255,182,3,1) 0%, rgba(255,85,85,1) 100%) !important; /* !important 추가 */
    transition: width 0.1s ease-out !important; /* !important 추가 */
}

/* Top Meta Bar Complete Structure */
.gp-top-meta-bar-container {
    display: block !important;
    margin: 0 0 20px 0 !important;
    padding: 0 !important;
    margin-top: 30px !important;
    position: relative !important;
    top: 10px !important;
}

/* Adjust vertical position for single posts */
body.single .gp-top-meta-bar-container {
    margin: 0 0 15px 0 !important; /* 0 top, 0 right, 15px bottom, 0 left */
}

.gp-top-meta-bar {
    display: flex !important;
    justify-content: flex-start !important; /* Changed from space-between */
    align-items: center !important;
    gap: 15px !important;
    width: 100%;
    height: 42px !important; /* Changed from min-height */
    position: static !important; /* To ensure margin-top works as expected, unless it's already a flex/grid container where margin is appropriate */
    /* Remove old grid properties to avoid conflicts */
    grid-template-columns: none;
    margin-top: 5px !important;
}
.gp-top-meta-bar .left-buttons {
    display: flex;
    gap: 8px;
    /* z-index: 1; /* Less relevant for grid layout unless overlapping occurs */
    /* justify-self: start; /* This is now handled by body.single .gp-top-meta-bar .left-buttons */
}
/* The rule for .gp-top-meta-bar .gp-post-category (general one) is fine as is, or might be overridden by single post specific one. */

/* The general .breadcrumb-lang-wrapper might not need changes if single post overrides are sufficient. */
/* Retaining its flex properties for other contexts if any. */
.breadcrumb-lang-wrapper {
    display: flex;
    align-items: center;
    justify-content: center; /* Default for non-single or if not overridden */
    gap: 15px;
    flex-wrap: wrap;
}

.gp-top-meta-bar .gp-language-switcher {
    display: flex;
    gap: 5px;
    /* justify-self: end; /* This is now handled by body.single .breadcrumb-lang-wrapper .gp-language-switcher */
}

body:not(.single) .gp-top-meta-bar-container { display: none; }



/* ==========================================================================
   FINAL SOLUTION: Badge Design & Image Performance (CSS-Only)
   ========================================================================== */

/* 1. NEW & UPDATED 배지 - 접근성을 충족하는 최종 미니멀 디자인 */
.gp-new-badge,
.gp-updated-badge,
.featured-image .gp-new-badge,
.post-image .gp-new-badge,
.featured-image .gp-updated-badge,
.post-image .gp-updated-badge,
span.gp-new-badge,
span.gp-updated-badge,
.post .gp-new-badge,
.post .gp-updated-badge,
article .gp-new-badge,
article .gp-updated-badge {
    position: absolute !important;
    top: 18px !important;
    left: 18px !important;
    z-index: 10 !important;

    /* [접근성 해결] WCAG AA 표준(4.5:1 이상)을 충족하는 #D93025 색상으로 변경 */
    background-color: #D93025 !important;
    color: #FFFFFF !important;

    /* 완벽한 알약 형태와 균형 잡힌 여백 */
    padding: 5px 12px !important;
    border-radius: 999px !important;

    /* 현대적이고 가독성 높은 타이포그래피 */
    font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif !important;
    font-size: 13px !important;
    font-weight: 700 !important;
    line-height: 1.4 !important;
    text-align: center;
    letter-spacing: 0.2px;

    /* 문제의 원인이 된 속성들 완전 제거 */
    border: none !important;
    box-shadow: none !important;
    text-shadow: none !important;

    /* 렌더링 최적화 */
    transform: translateZ(0);
}

/* UPDATED 배지 애니메이션은 유지 */
.gp-updated-badge,
.featured-image .gp-updated-badge,
.post-image .gp-updated-badge,
span.gp-updated-badge {
    animation: updated-pulse 2s cubic-bezier(0.4, 0, 0.6, 1) infinite;
}

@keyframes updated-pulse {
    0%, 100% {
        transform: scale(1);
        opacity: 1;
    }
    50% {
        transform: scale(1.07);
        opacity: 0.95;
    }
}

/* 2. 이미지 로딩 성능 최적화 (JavaScript 없이 CSS만으로 구현) */

/* 이미지 컨테이너: 공간 미리 확보로 CLS(레이아웃 밀림) 방지 */
.featured-image,
.post-image {
    display: block;
    position: relative;
    overflow: hidden;
    background-color: var(--bg-tertiary); /* 로딩 중 배경색 */
    border-radius: 20px;
}

html.dark-mode-active .featured-image,
html.dark-mode-active .post-image {
    background-color: var(--bg-primary);
}

/* 이미지 태그: 기본 스타일 (JavaScript 불필요) */
.featured-image img,
.post-image img {
    display: block;
    width: 100%;
    height: 100%;
    object-fit: cover;
    border-radius: 20px !important;

    /* [문제 해결] 이미지 로딩을 방해했던 opacity, animation 속성 완전 제거 */
    /* 이제 이미지는 브라우저의 기본 동작에 따라 자연스럽게 로딩됩니다. */
}

/* 다크모드 홈화면 별점 - 노란색 그림자 제거 */
html.dark-mode-active .gp-list-star-rating .list-stars-foreground {
    background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' fill='%23ffd700'%3E%3Cpath d='M12 17.27L18.18 21l-1.64-7.03L22 9.24l-7.19-.61L12 2 9.19 8.63 2 9.24l5.46 4.73L5.82 21z'/%3E%3C/svg%3E") !important;
    background-repeat: repeat-x !important;
    background-size: contain !important;
    filter: none !important; /* 그림자 효과 제거 */
    box-shadow: none !important;
    border: none !important;
    transition: background-image var(--default-transition-duration) var(--default-transition-timing-function);
}

/* 다크모드 홈화면 별점 배경 아이콘 색상 수정 */
html.dark-mode-active .list-stars-background {
    background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' fill='%233a3a3a'%3E%3Cpath d='M12 17.27L18.18 21l-1.64-7.03L22 9.24l-7.19-.61L12 2 9.19 8.63 2 9.24l5.46 4.73L5.82 21z'/%3E%3C/svg%3E");
    opacity: 0.3; /* 투명도 조정으로 더 은은하게 */
    transition: background-image var(--default-transition-duration) var(--default-transition-timing-function), opacity var(--default-transition-duration) var(--default-transition-timing-function);
}

body:not(.single) article.post:not(:last-child)::after {
    display: none !important;
}

/* 홈 화면 카드 내부 요소들의 하단 경계선 제거 */
body:not(.single) .inside-article,
body:not(.single) .gp-list-star-rating,
body:not(.single) .inside-article > *:last-child {
    border-bottom: none !important;
    box-shadow: none !important;
    margin-bottom: 0 !important;
}

/* 다크모드 홈화면 별점 컨테이너 - 박스 숨기기 */
html.dark-mode-active .gp-list-star-rating {
    background: transparent !important;
    border: none !important;
    box-shadow: none !important;
    padding: 0 !important; /* Consistent with general reset */
}

html.dark-mode-active .gp-list-star-rating .list-stars-wrapper {
    background: transparent !important;
    border: none !important;
    box-shadow: none !important;
}

/* ALL REMAINING FEATURES CSS MERGED FOR HIGHEST PRIORITY */

/* Reading Progress & Read More Animations */
@keyframes gp-pulse {
    0% { opacity: 0.5; }
    50% { opacity: 1; }
    100% { opacity: 0.5; }
}

.read-more-container {
    display: flex;
    flex-direction: column;
    align-items: center;
    gap: 12px;
    margin-bottom: 20px !important; /* 태그 박스와의 간격 추가 */
}

.read-more-container::before {
    content: "";
    display: block;
    width: 10px;
    height: 10px;
    border: solid #adb5bd;
    border-width: 0 2px 2px 0;
    transform: rotate(45deg);
    animation: gp-pulse 2s infinite;
    transition: all 0.2s ease-out;
}

article.post:hover .read-more-container::before {
    animation-play-state: paused;
    opacity: 1;
    transform: rotate(45deg) scale(1.5);
    border-color: var(--text-primary);
}

.gp-read-more-btn {
    padding: 12px 30px;
    border-radius: 8px; /* Modernized border-radius */
    border: 1px solid var(--border-secondary); /* Adaptive border for light/dark */
    background-color: #e9ecef; /* Light gray for light mode */
    color: var(--text-primary);
    transition: all 0.2s ease;
    text-decoration: none !important;
}

.gp-read-more-btn:hover {
    background-color: #d8dcdf; /* Slightly darker gray for light mode hover */
    color: var(--text-heading); /* Darker text for light mode hover */
    border-color: var(--border-meta); /* Consistent darker border for light mode hover */
    transform: scale(1.05);
}

html.dark-mode-active .gp-read-more-btn {
    /* Base background and text color are handled by var() in the main rule */
    /* Explicit border for dark mode if var(--border-secondary) wasn't suitable, but it is. */
    /* So, this block can be kept minimal or removed if no specific overrides are needed for base dark style. */
    /* For now, ensuring text color remains appropriate if it was somehow overridden by the light-mode specific color */
    color: var(--text-primary);
    background-color: var(--bg-secondary); /* Ensuring dark mode background is explicitly from variables */
}

html.dark-mode-active .gp-read-more-btn:hover {
    background-color: #3a3b3c; /* Slightly lighter gray for dark mode hover */
    color: var(--white-color); /* Brighter text for dark mode hover */
    border-color: var(--border-meta); /* Darker, defined border for dark mode hover */
    transform: scale(1.05);
}

/* Post Footer Sections Structure */
.post-footer-sections {
    border-top: 1px solid var(--border-primary);
    background-color: var(--bg-primary);
    padding: 3.5em 0;
}

.post-footer-sections > * {
    padding: 0;
    margin: 0 auto 3.5em auto; /* Keep this for centering the child block */
    border-top: none;
    /* display: flex; REMOVE */
    /* flex-direction: column; REMOVE */
    /* align-items: center; REMOVE */
    gap: 20px; /* Keep or remove if not needed */
    text-align: center; /* Ensure this is here, helps center inline-block like children */
}

.post-footer-sections > *:last-child {
    margin-bottom: 0;
}

.section-label {
    font-size: 1.1em;
    font-weight: 600;
    color: var(--text-heading);
    margin: 0 0 5px 0;
}

/* Star Rating System Complete */
.gp-star-rating-container {
    /* display: none; */ /* 홈화면 별 박스 숨김 - 주석 처리하여 복원 */
    width: 100%;
    max-width: 420px;
    background: var(--bg-secondary);
    padding: 2.5em 2em;
    border-radius: 20px;
    border: 1px solid var(--border-primary);
    box-shadow: 0 5px 15px rgba(0,0,0,0.05);
}

.gp-star-rating-container .stars-wrapper {
    position: relative;
    display: inline-flex;
    cursor: pointer;
    padding: 0;
}

.gp-star-rating-container.voted .stars-wrapper:not(.editing) {
    cursor: default;
}

.gp-star-rating-container .stars-background,
.gp-star-rating-container .stars-foreground {
    display: flex;
    gap: 12px;
    white-space: nowrap;
}

.gp-star-rating-container .stars-foreground {
    position: absolute;
    top: 0;
    left: 0;
    overflow: hidden;
    transition: width 0.2s ease-in-out;
}

.gp-star-rating-container .star {
    width: 44px;
    height: 44px;
    flex-shrink: 0;
    background-color: var(--border-primary);
    -webkit-mask: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24'%3E%3Cpath d='M12 17.27L18.18 21l-1.64-7.03L22 9.24l-7.19-.61L12 2 9.19 8.63 2 9.24l5.46 4.73L5.82 21z'/%3E%3C/svg%3E") no-repeat center / contain;
    mask: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24'%3E%3Cpath d='M12 17.27L18.18 21l-1.64-7.03L22 9.24l-7.19-.61L12 2 9.19 8.63 2 9.24l5.46 4.73L5.82 21z'/%3E%3C/svg%3E") no-repeat center / contain;
    transition: all 0.2s ease;
}

.gp-star-rating-container .stars-foreground .star {
    background-color: var(--accent-color);
}

.gp-star-rating-container .stars-wrapper.editing .star:hover,
.gp-star-rating-container .stars-wrapper:not(.voted) .star:hover {
    transform: scale(1.2);
}

.gp-star-rating-container .rating-text {
    margin-top: 18px;
    font-size: 1.6em;
    font-weight: 500;
    color: var(--text-heading);
}

.gp-star-rating-container .rating-text span[itemprop="bestRating"] {
    font-size: 0.7em;
    color: var(--text-muted);
}

.vote-count-display {
    font-size: 0.9em;
    color: var(--text-muted);
    margin-top: 8px;
    text-align: center;
    font-weight: 500;
}

.user-rating-text {
    font-size: 0.9em;
    color: var(--text-muted);
    margin-top: 8px;
    display: none;
}

.gp-star-rating-container.voted .user-rating-text {
    display: block;
}

.rating-buttons-container {
    display: flex;
    gap: 10px;
    margin-top: 18px;
}

.rating-action-btn {
    font-size: 0.9em;
    padding: 10px 22px;
    background-color: var(--bg-primary);
    border: 1px solid var(--border-secondary);
    color: var(--text-secondary);
    border-radius: 12px;
    cursor: pointer;
    transition: all 0.2s ease;
    font-weight: 500;
}

.rating-action-btn:hover {
    transform: translateY(-2px);
    color: var(--text-primary);
    border-color: var(--text-primary);
    box-shadow: 0 4px 10px rgba(0,0,0,0.06);
}

.rating-action-btn.submit-rating-btn {
    background-color: var(--accent-color);
    color: var(--white-color);
    border-color: var(--accent-color);
    font-weight: 600;
    display: inline-block;
}

.gp-star-rating-container.voted:not(.editing) .submit-rating-btn {
    display: none;
}

.gp-star-rating-container.voted:not(.editing) .edit-rating-btn {
    display: inline-block;
}

.gp-star-rating-container.editing .submit-rating-btn {
    display: inline-block !important;
}

.gp-star-rating-container.editing .edit-rating-btn {
    display: none;
}

/* Star Rating Animations */
@keyframes rating-submitted-shake {
    0%, 100% { transform: translateX(0); }
    10%, 30%, 50%, 70%, 90% { transform: translateX(-5px); }
    20%, 40%, 60%, 80% { transform: translateX(5px); }
}

.gp-star-rating-container.submitted .stars-foreground {
    animation: rating-submitted-shake 0.8s both;
}

.gp-star-rating-container.submitted .stars-foreground .star {
    background-image: linear-gradient(45deg, #ffeb3b, #ffc107);
}

/* 리액션 버튼 시스템 */
.reaction-buttons { display: flex; justify-content: center; gap: 15px; flex-wrap: wrap; }
.reaction-btn {
    display: flex;
    align-items: center;
    gap: 8px;
    background: var(--bg-secondary);
    border: 1px solid var(--border-primary);
    padding: 10px 20px;
    border-radius: 14px;
    cursor: pointer;
    color: var(--text-primary);
    transition: all 0.2s ease;
    box-shadow: 0 2px 4px rgba(0,0,0,0.04);
}

.reaction-btn:hover {
    transform: translateY(-3px);
    box-shadow: 0 5px 15px rgba(0,0,0,0.08);
    border-color: var(--accent-color);
}

.reaction-btn:hover .reaction-label {
    color: var(--accent-color);
}

.reaction-btn .reaction-label {
    font-weight: 500;
}

.reaction-btn .reaction-count {
    font-weight: 600;
    color: var(--text-secondary);
    margin-left: 4px;
}

.reaction-btn[data-reaction="like"]:hover {
    border-color: #ff8787;
}

.reaction-btn[data-reaction="like"]:hover .reaction-label {
    color: #fa5252;
}

.reaction-btn.cooldown {
    opacity: 0.6;
    pointer-events: none;
}

@keyframes count-up {
    0% { transform: scale(1); }
    50% { transform: scale(1.5); color: #c02a2a; }
    100% { transform: scale(1); }
}

.reaction-count.updated {
    animation: count-up 0.3s ease-in-out;
}

/* 소셜 공유 버튼 */
.share-buttons { display: flex; justify-content: center; gap: 15px; flex-wrap: wrap; }
.social-share-btn {
    display: inline-flex;
    align-items: center;
    justify-content: center;
    width: 48px;
    height: 48px;
    border-radius: 50%;
    font-size: 1.2rem;
    font-weight: bold;
    text-decoration: none;
    color: #fff !important;
    border: none;
    transition: all 0.2s ease;
}

.social-share-btn:hover {
    transform: translateY(-3px) scale(1.1);
    box-shadow: 0 5px 15px rgba(0,0,0,0.1);
}

.social-share-btn.facebook {
    background-color: #1877F2;
    font-family: sans-serif;
}

.social-share-btn.x-btn {
    background-color: var(--black-color) !important;
    font-weight: 900 !important; /* 아이콘 두께 증가 */
}


/* Home Screen Star Rating Complete */
.gp-list-star-rating {
    display: flex;
    flex-direction: column;
    justify-content: center;
    align-items: center;
    gap: 5px;
    padding: 15px 20px;
    margin: -5px 0;
}

.list-stars-wrapper {
    position: relative;
    width: 200px;
    height: 40px;
    display: flex;
    align-items: center;
    justify-content: center;
}

.list-stars-background, .list-stars-foreground {
    position: absolute;
    top: 0;
    left: 0;
    height: 100%;
    background-repeat: repeat-x;
    background-size: contain;
    transition: all 0.3s ease;
}

.list-stars-background {
    width: 100%;
    background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' fill='%23f1f3f5'%3E%3Cpath d='M12 17.27L18.18 21l-1.64-7.03L22 9.24l-7.19-.61L12 2 9.19 8.63 2 9.24l5.46 4.73L5.82 21z'/%3E%3C/svg%3E");
    opacity: 0.3;
}

.list-stars-foreground {
    background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' fill='%23ffc107'%3E%3Cpath d='M12 17.27L18.18 21l-1.64-7.03L22 9.24l-7.19-.61L12 2 9.19 8.63 2 9.24l5.46 4.73L5.82 21z'/%3E%3C/svg%3E");
    overflow: hidden;
    /* filter: drop-shadow(0 2px 4px rgba(255, 193, 7, 0.3)); */ /* Removed for cleaner look */
}

.gp-list-star-rating .rating-info {
    font-size: 1.1em;
    color: var(--text-muted);
    font-weight: 500;
}

/* Series Posts Section */
.gp-series-posts-container {
    margin-top: 3em;
    padding: 3em 25px 2em 25px !important;
    border-top: 1px solid var(--border-primary);
    box-sizing: border-box !important;
}

.series-posts-title {
    text-align: center;
    font-size: 1.5em;
    margin-bottom: 1.5em;
    font-weight: 600;
    color: var(--text-heading);
}

.series-posts-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)) !important; /* 변경됨 */
    gap: 20px; /* 변경됨 */
}

.series-post-item {
    display: flex;
    gap: 15px;
    text-decoration: none;
    background: var(--bg-secondary);
    border-radius: 12px;
    padding: 15px;
    border: 1px solid var(--border-primary);
    transition: all .2s ease;
}

.series-post-item:hover {
    transform: translateY(-5px);
    box-shadow: 0 8px 20px rgba(0,0,0,0.08);
    border-color: var(--accent-color);
}

.series-post-thumbnail {
    width: 80px;
    height: 80px;
    flex-shrink: 0;
    overflow: hidden;
    border-radius: 8px;
}

.series-post-thumbnail img, .no-thumb-series {
    width: 100%;
    height: 100%;
    object-fit: contain;
    background-color: var(--bg-tertiary);
}

.no-thumb-series {
    background-color: var(--bg-tertiary);
}

.series-post-content {
    display: flex;
    flex-direction: column;
    padding: 1.5em;
}

.series-post-title {
    font-size: 1.05em;
    line-height: 1.4;
    color: var(--text-primary);
    font-weight: 600;
    margin: 0 0 5px 0;
}

.series-post-meta {
    font-size: 0.85em;
    color: var(--text-muted);
    margin-top: auto;
    /* text-align: center; */ /* 날짜 중앙 정렬 - 제거됨 */
    /* position: relative; */ /* ::before 가상 요소 기준점 - 제거됨 */
    /* padding-top: 15px; */ /* 구분선을 위한 공간 확보 - 제거됨 */
    /* margin-top: 15px; */ /* 제목과의 간격 추가 - 제거됨 */
}

/*
.series-post-meta::before {
    content: "";
    position: absolute;
    top: 0;
    left: 50%;
    transform: translateX(-50%);
    width: 80%;
    height: 1px;
    background-color: var(--border-primary);
}
*/

/* Code Copy Button */
pre {
    position: relative;
}

.copy-code-button {
    position: absolute;
    top: 10px;
    right: 10px;
    background: var(--bg-tertiary);
    border: 1px solid var(--border-secondary);
    color: var(--text-primary);
    padding: 5px 10px;
    border-radius: 6px;
    cursor: pointer;
    opacity: 0;
    transition: opacity 0.2s ease;
}

pre:hover .copy-code-button {
    opacity: 1;
}

/* Reading Time Tooltip */
.reading-time-meta[data-tooltip-text]:hover::after {
    content: attr(data-tooltip-text);
    position: absolute;
    bottom: 105%; /* Adjusted bottom position */
    left: 50%;
    transform: translateX(-50%);
    background-color: #333;
    color: #fff;
    padding: 5px 10px;
    border-radius: 4px;
    font-size: 0.8em;
    white-space: nowrap;
    z-index: 99999 !important; /* Keep z-index */
    /* border: 2px solid red !important; */ /* Removed Debug border */
    display: inline-block !important; /* Ensure it occupies space */
}

html.dark-mode-active .reading-time-meta[data-tooltip-text]:hover::after {
    background-color: var(--bg-tertiary) !important;
    color: var(--text-primary) !important;
    border: 1px solid var(--border-primary) !important;
}

/* ==========================================================================
   11. Sidebar & Tools (Floating Buttons are part of this)
   ========================================================================== */
/* Styles for floating action buttons (Dark Mode, Scroll to Top, Sidebar Toggle) and the Sidebar itself. */

/* Floating Buttons Container - Positioned bottom-right */
.floating-buttons-container {
    position: fixed;
    right: 20px;
    bottom: 20px; /* Changed from top: 50% */
    top: auto; /* Explicitly override top */
    transform: none; /* Removed translateY(-50%) */
    z-index: 1001;
    display: flex;
    flex-direction: column;
    gap: 12px;
    align-items: center;
    justify-content: center;
}

/* 하단 앵커 광고와의 충돌 방지 */
@media (max-width: 768px) {
  .floating-buttons-container {
    bottom: 100px !important;
  }
}

@media (max-width: 768px) {
    .floating-buttons-container {
        right: 10px;
        gap: 10px;
    }
}

/* Sidebar Toggle & Icon */
#sidebarToggle { position: relative; }

/* Sidebar Structure */
#gp-sidebar { position: fixed; top: 0; right: -400px; width: 400px; height: 100vh; background: var(--bg-secondary); border-left: 1px solid var(--border-primary); box-shadow: -5px 0 20px rgba(0,0,0,0.1); z-index: 10000; overflow-y: auto; transition: right 0.3s ease-in-out; }
#gp-sidebar.gp-sidebar-visible { right: 0; }
.sidebar-overlay { position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.5); z-index: 9999; opacity: 0; visibility: hidden; transition: all 0.3s ease; }
.sidebar-overlay.active { opacity: 1; visibility: visible; }
.sidebar-header { display: flex; justify-content: space-between; align-items: center; padding: 20px 25px; border-bottom: 1px solid var(--border-primary); background: var(--bg-primary); }
.sidebar-header h3 { margin: 0; font-size: 1.2em; font-weight: 600; color: var(--text-heading); }
.sidebar-close { background: none; border: none; font-size: 24px; color: var(--text-muted); cursor: pointer; width: 30px; height: 30px; display: flex; align-items: center; justify-content: center; border-radius: 50%; transition: all 0.2s ease; -webkit-tap-highlight-color: transparent; touch-action: manipulation; user-select: none; }
.sidebar-close:hover { background: var(--bg-tertiary); color: var(--text-primary); }
.sidebar-content { padding: 20px; }
.sidebar-toc-container { margin-bottom: 30px; }
.sidebar-toc-container #gp-toc-container { margin-bottom: 0; background: transparent; border: none; padding: 0; box-shadow: none; }
.sidebar-tools h4 { margin: 0 0 15px 0; font-size: 1.1em; font-weight: 600; color: var(--text-heading); border-bottom: 1px solid var(--border-primary); padding-bottom: 10px; }
.sidebar-tool { display: block; width: 100%; padding: 12px 16px; margin-bottom: 8px; background: var(--bg-primary); border: 1px solid var(--border-secondary); border-radius: 8px; color: var(--text-primary); text-align: center; cursor: pointer; transition: all 0.2s ease; font-size: 0.95em; }
.sidebar-tool:hover { background: var(--text-primary); color: var(--white-color); transform: translateX(5px); }

/* Floating Button Base Style */
.floating-btn { width: 48px; height: 48px; background-color: rgba(255, 255, 255, 0.9); backdrop-filter: blur(8px); border: 1px solid var(--border-primary); border-radius: 14px; box-shadow: 0 4px 12px rgba(0,0,0,0.1); cursor: pointer; display: flex; align-items: center; justify-content: center; transition: transform 0.3s cubic-bezier(0.4, 0, 0.2, 1), box-shadow 0.3s cubic-bezier(0.4, 0, 0.2, 1), background-color 0.3s cubic-bezier(0.4, 0, 0.2, 1); position: relative; overflow: hidden; }
.floating-btn:hover { transform: translateY(-2px) scale(1.05); box-shadow: 0 8px 20px rgba(0,0,0,0.15); }
.floating-btn:active { transform: translateY(0) scale(0.95); transition-duration: 0.1s; }

#sidebarToggle:hover {
    background-color: rgba(240, 240, 240, 0.95) !important; /* Desired light hover background */
}

.floating-btn.clicked { background-color: #40c057 !important; border-color: #37b24d !important; animation: buttonSuccess 0.6s cubic-bezier(0.4, 0, 0.2, 1); }

@keyframes buttonSuccess { 0% { transform: scale(1); box-shadow: 0 4px 12px rgba(0,0,0,0.1); } 50% { transform: scale(1.1); box-shadow: 0 8px 25px rgba(64, 192, 87, 0.4); } 100% { transform: scale(1); box-shadow: 0 4px 12px rgba(64, 192, 87, 0.2); } }

.floating-btn::after { content: ''; position: absolute; top: 50%; left: 50%; width: 0; height: 0; border-radius: 50%; background: rgba(64, 192, 87, 0.3); transform: translate(-50%, -50%); transition: width 0.3s ease, height 0.3s ease, opacity 0.3s ease; opacity: 0; pointer-events: none; }
.floating-btn.ripple::after { width: 60px; height: 60px; opacity: 1; animation: rippleEffect 0.6s ease-out; }

@keyframes rippleEffect { 0% { width: 0; height: 0; opacity: 1; } 100% { width: 60px; height: 60px; opacity: 0; } }

/* Dark Mode & Scroll Icons */
#darkModeToggle .dark-mode-icon-wrapper { position: relative; width: 22px; height: 22px; overflow: hidden; }
#darkModeToggle .dark-mode-icon-wrapper::before, #darkModeToggle .dark-mode-icon-wrapper::after { content: ''; position: absolute; width: 100%; height: 100%; background-color: var(--text-primary); transition: all 0.3s ease; }
#darkModeToggle .dark-mode-icon-wrapper::before { mask-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' fill='none' stroke='currentColor' stroke-width='2'%3E%3Ccircle cx='12' cy='12' r='5'/%3E%3Cpath d='M12 1v2M12 21v2M4.22 4.22l1.42 1.42M18.36 18.36l1.42 1.42M1 12h2M21 12h2M4.22 19.78l1.42-1.42M18.36 5.64l1.42-1.42'/%3E%3C/svg%3E"); opacity: 1; }
#darkModeToggle .dark-mode-icon-wrapper::after { mask-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' fill='none' stroke='currentColor' stroke-width='2'%3E%3Cpath d='M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z'/%3E%3C/svg%3E"); opacity: 0; }
#scrollToTopBtn {
    background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' fill='none' stroke='%23343a40' stroke-width='2.5' stroke-linecap='round' stroke-linejoin='round'%3E%3Cpath d='M12 19V5M5 12l7-7 7 7'/%3E%3C/svg%3E");
    background-size: 24px;
    background-repeat: no-repeat;
    background-position: center;
    opacity: 1 !important; /* Make it always visible */
    pointer-events: auto !important; /* Make it always clickable */
    transition: all 0.3s ease;
}

/* Merged from: assets/css/components/post-navigation.css */
/* ==========================================================================
   12. Post Navigation (Custom)
   ========================================================================== */
/* Styles for the custom previous/next post navigation with thumbnails. */
.gp-custom-post-nav-wrapper {
    max-width: 950px !important;
    padding: 0 !important;
    margin-top: 25px !important; /* main 요소와의 간격 확보 */
}
.gp-custom-post-nav { margin-top: 0; background-color: var(--bg-secondary); border: 1px solid var(--border-primary); box-shadow: 0 5px 15px rgba(0,0,0,0.07); border-radius: 20px !important; overflow: hidden !important; }
.gp-custom-post-nav .nav-links { display: flex; width: 100%; }
.gp-custom-post-nav .nav-previous, .gp-custom-post-nav .nav-next { flex: 1 1 50%; position: relative; }
/* 한쪽 네비게이션만 있을 경우 전체 너비 차지 */
.gp-custom-post-nav .nav-previous:only-child,
.gp-custom-post-nav .nav-next:only-child {
    flex-basis: 100%;
}
.gp-custom-post-nav .nav-previous { border-right: 1px solid var(--border-primary); }
/* 한쪽 네비게이션만 있을 경우 오른쪽 테두리 제거 */
.gp-custom-post-nav .nav-previous:only-child {
    border-right: none;
}
.gp-custom-post-nav a { color: var(--white-color) !important; display: block; }
.gp-custom-post-nav a img { transition: transform 0.3s ease-in-out; }
.gp-custom-post-nav a:hover img { transform: scale(1.05); }
.gp-custom-post-nav a:hover .nav-title-overlay { background-color: rgba(0, 0, 0, 0.6); }
.gp-custom-post-nav img, .gp-custom-post-nav .no-thumb { width: 100% !important; height: 300px !important; object-fit: cover; display: block; border-radius: 0; }
.gp-custom-post-nav .nav-title-overlay { position: absolute; bottom: 0; left: 0; width: 100%; padding: 25px; box-sizing: border-box; background: linear-gradient(to top, rgba(0,0,0,0.7) 0%, rgba(0,0,0,0) 100%); transition: background-color 0.3s ease; text-align: left; }
.gp-custom-post-nav .nav-title-label { font-size: 0.9em; color: #e0e0e0; margin-bottom: 5px; display: block; }
.gp-custom-post-nav .nav-title { font-weight: 600; line-height: 1.4; font-size: 1.3em; }
.gp-custom-post-nav .nav-next .nav-title-overlay { text-align: right; }
.gp-custom-post-nav .nav-title-label::before { content: '← '; font-family: sans-serif; }
.gp-custom-post-nav .nav-next .nav-title-label::before { content: ''; }
.gp-custom-post-nav .nav-next .nav-title-label::after { content: ' →'; font-family: sans-serif; }

/* Merged from: assets/css/components/responsive.css */
/* =================================================================
   2. 데스크톱 반응형 스타일 (769px 이상)
================================================================= */
@media (min-width: 769px) {
    li.pll-parent-menu-item {
        width: auto;
    }
    li.pll-parent-menu-item > a,
    li.pll-parent-menu-item > a:link,
    li.pll-parent-menu-item > a:visited {
        justify-content: center !important;
        padding: 8px 16px !important;
        border: 1px solid var(--color-border) !important;
        border-radius: 50px !important;
    }
    li.pll-parent-menu-item > a:hover {
        background-color: var(--color-background-soft) !important;
        border-color: #D1D5DB !important;
    }
    li.pll-parent-menu-item ul.sub-menu {
        display: block;
        position: absolute;
        padding: 6px;
        top: calc(100% + 8px);
        left: 50%;
        width: auto;
        min-width: 200px;
        background: var(--color-background);
        border: 1px solid var(--color-border);
        border-radius: 12px;
        box-shadow: 0 10px 30px rgba(0, 0, 0, 0.07);
        opacity: 0;
        visibility: hidden;
        pointer-events: none;
        transform: translateX(-50%) translateY(10px);
    }
    li.pll-parent-menu-item:hover ul.sub-menu {
        opacity: 1;
        visibility: visible;
        pointer-events: auto;
        transform: translateX(-50%) translateY(0);
    }
    li.pll-parent-menu-item ul.sub-menu li a {
        padding: 10px 14px !important;
        border-radius: 8px !important;
    }
    li.pll-parent-menu-item ul.sub-menu li a:hover {
        background-color: #F3F4F6 !important;
    }

    /* 데스크톱: 머리말 및 관련 단락의 계층적 들여쓰기 적용 */
    /* 기본 단락 들여쓰기 (머리말과 무관한 단락) */
    .entry-content p {
        padding-left: 1.5em;
    }

    /* H3 및 그 아래 콘텐츠 들여쓰기 */
    .entry-content h3,
    .entry-content h3 ~ p,
    .entry-content h3 ~ ul,
    .entry-content h3 ~ ol {
        padding-left: 1.5em !important;
    }

    /* H4 및 그 아래 콘텐츠 들여쓰기 (H3보다 한 단계 더) */
    .entry-content h4,
    .entry-content h4 ~ p,
    .entry-content h4 ~ ul,
    .entry-content h4 ~ ol {
        padding-left: 3em !important;
    }

    /* h2 아래에 오는 p, ul, ol 요소는 h2와 동일한 들여쓰기 적용 */
    .entry-content h2 ~ p,
    .entry-content h2 ~ ul,
    .entry-content h2 ~ ol {
         padding-left: 40px !important;
    }
}


/* =================================================================
   3. 모바일 반응형 스타일 (768px 이하)
================================================================= */
@media (max-width: 768px) {
    .main-navigation li.pll-parent-menu-item > a {
        padding: 15px 20px !important;
        font-size: 0 !important; /* 텍스트 숨기기 */
    }
    .main-navigation li.pll-parent-menu-item > a::before {
        content: '' !important;
        background-image: url("data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' width='24' height='24' viewBox='0 0 24 24' fill='none' stroke='%23334155' stroke-width='1.8' stroke-linecap='round' stroke-linejoin='round'%3e%3ccircle cx='12' cy='12' r='10'%3e%3c/circle%3e%3cpath d='M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20'%3e%3c/path%3e%3cpath d='M2 12h20'%3e%3c/path%3e%3c/svg%3e");
        background-repeat: no-repeat !important;
        background-position: left center;
        background-size: 20px;
        width: 20px;
        height: 20px;
    }
    .main-navigation li.pll-parent-menu-item > a::after {
        content: '' !important;
        width: 8px;
        height: 8px;
        border-style: solid;
        border-width: 2px 2px 0 0;
        border-color: var(--color-text-body) var(--color-text-body) transparent transparent;
        transform: rotate(135deg);
        background-image: none !important;
    }

    /* Comprehensive mobile padding reset and application (Turn 35 feedback) */
    body { /* User request: body background for mobile */
        background-color: var(--bg-secondary) !important;
    }

    /* .site-content rule block removed as per cleanup */
    /* User request: Zero out padding/margin for these intermediate containers */
    /* This entire block for #primary, main#main, .inside-article, .entry-content is removed as per cleanup */

    /* User request: Specific fix for nested article tag with inline styles */
    .entry-content > article[style] {
        padding: 0 !important;
        margin: 0 !important; /* Also reset margin for this element */
        box-sizing: border-box !important;
    }

    body:not(.single) .site-main article.post {
        margin: 0 0 20px 0 !important; /* 모바일에서 카드 간격 20px로 수정 */
        border: none !important; /* Ensured active for revert */
        padding-bottom: 0 !important; /* New addition for this revert */
        padding-left: 10px !important; /* Added for mobile card padding */
        padding-right: 10px !important; /* Added for mobile card padding */
        box-shadow: none !important;
        border-radius: 0 !important;
        background: transparent !important;
        /* Redundant padding declarations removed, single declaration above is kept. */
        gap: 15px;
        max-width: 100%;
        /* position: relative !important; */ /* Not strictly needed if ::after is static */
    }

    /* Dotted line separator for homepage posts on mobile (initial and AJAX-loaded) */
    body:not(.single) .site-main article.post:not(:last-child)::after {
        content: "" !important;
        display: block !important;
        width: 80% !important;
        height: auto !important; /* Can be 0px, border is what's seen */
        border-bottom: none !important; /* Light gray dotted line */
        background: none !important; /* Ensure no background color */
        margin-top: 20px !important; /* Space from card content above */
        margin-bottom: 20px !important; /* Space before the card's own bottom margin */
        margin-left: auto !important; /* Center the line */
        margin-right: auto !important; /* Center the line */
        visibility: visible !important;
        opacity: 1 !important;
        position: static !important; /* Crucial for in-flow behavior */
        clear: both; /* Just in case */
    }

    html.dark-mode-active body:not(.single) .site-main article.post:not(:last-child)::after {
        border-bottom-color: var(--border-primary) !important; /* Dark mode border color */
    }

    .singular-post-content { /* Mobile adjustments for singular-post-content */
        width: 100% !important;
        margin-left: 0 !important;
        margin-right: 0 !important;
        /* Keep existing internal padding from its general rule */
        /* Background will be handled by dark mode rule below if needed */
    }

    /* 모바일에서 첫 번째 카드 상단 여백 추가 */
    body .site-main article.post:first-child {
        margin-top: 20px !important;
    }
    /* Adjusted .inside-article for mobile card padding */
    body:not(.single) .site-main article.post .inside-article {
        padding-left: 0 !important;
        padding-right: 0 !important;
        gap: 15px;
    }
    /* Ensure general .inside-article for single posts retains its mobile gap if needed, but padding is handled by .site-content */
    body.single .inside-article {
        padding-left: 0 !important; /* 모바일 좌우 패딩 조정 */
        padding-right: 0 !important; /* 모바일 좌우 패딩 조정 */
        padding-top: 20px !important; /* 기존 상하 패딩 유지 */
        padding-bottom: 20px !important; /* 기존 상하 패딩 유지 */
        margin-left: 0 !important;
        margin-right: 0 !important;
        width: 100% !important;
        box-sizing: border-box !important;
        background-color: transparent !important; /* Changed to transparent for mobile */
        border: none !important; /* Ensure no border on mobile */
        border-radius: 0 !important;
        gap: 15px; /* Preserving existing gap */
    }

    html.dark-mode-active body.single .inside-article {
        background-color: transparent !important; /* Ensure mobile dark mode is also transparent */
        color: var(--text-primary) !important; /* Light text for dark mode mobile */
        /* Horizontal padding/margins are set by the rule above */
        /* Vertical padding is inherited from the rule above or desktop */
        /* gap: 15px; is inherited from the rule above */
    }

    body:not(.single) .entry-header, body:not(.single) .post-image, body:not(.single) .entry-summary, body:not(.single) .read-more-container, body:not(.single) .list-tags-container, body:not(.single) .gp-list-star-rating { padding: 0 !important; }
    .entry-header { padding-top: 15px !important; }
    .list-tags-container { padding-bottom: 8px !important; margin-bottom: 15px !important; /* 태그박스 하단 마진 추가 */ }
    .gp-list-star-rating { padding-bottom: 15px !important; margin-top: 10px !important; /* 별점 상단 마진 추가 */ }
    /* 모바일에서도 구텐베르크 원본 스타일 유지 */
    /* article.post .entry-content p:not(:is(blockquote p, .no-ident)) { padding-left: 0 !important; } */

    /* Neutralize paragraph indentation on mobile */
    article.post .entry-content p,
    .entry-content p {
        /* padding-left: 0 !important; */ /* Reverted for global padding strategy */
        text-indent: 0 !important;
    }
    body.single article.post .entry-content p,
    body.single .entry-content p {
        /* padding-left: 0 !important; */ /* Reverted for global padding strategy */
        text-indent: 0 !important;
    }

    /* Improve text wrapping on mobile */
    .entry-content p,
    .entry-content div,
    .entry-content li {
        overflow-wrap: break-word !important; /* Alias for word-wrap */
        -webkit-hyphens: auto;
        -ms-hyphens: auto;
        hyphens: auto;
        text-wrap: pretty;
        /* padding-left: 10px !important; */ /* Moved to end of media query */
        /* padding-right: 10px !important; */ /* Moved to end of media query */
    }
    body.single .entry-content p,
    body.single .entry-content div,
    body.single .entry-content li {
        overflow-wrap: break-word !important; /* Alias for word-wrap */
        -webkit-hyphens: auto;
        -ms-hyphens: auto;
        hyphens: auto;
        text-wrap: pretty;
        /* padding-left: 10px !important; */ /* Moved to end of media query */
        /* padding-right: 10px !important; */ /* Moved to end of media query */
    }

    /* 모바일에서 본문 전체 좌우 패딩 최소화 */
    body.single .inside-article {
        /* padding-left: 0 !important; */ /* padding removed */
        /* padding-right: 0 !important; */ /* padding removed */
    }

    /* 모바일에서 홈 화면 요소들 패딩 조정 */
    body:not(.single) .entry-header,
    body:not(.single) .post-image,
    body:not(.single) .entry-summary,
    body:not(.single) .read-more-container,
    body:not(.single) .list-tags-container,
    body:not(.single) .gp-list-star-rating {
        padding-left: 0 !important;
        padding-right: 0 !important;
    }

    /* 모바일에서 엔트리 콘텐츠 패딩 조정 */
    body.single .entry-content {
        /* padding-left: 0 !important; */ /* padding removed */
        /* padding-right: 0 !important; */ /* padding removed */
    }

    /* Fix mobile padding for nested containers in .entry-content */
    body.single .entry-content .wp-block-group,
    body.single .entry-content .wp-block-cover,
    body.single .entry-content .wp-block-column, /* Also address columns if they add padding */
    body.single .entry-content > div /* Target direct generic div wrappers if any */ {
        padding-left: 0 !important;
        padding-right: 0 !important;
    }

    /* If wp-block-group has specific inner containers that also add padding */
    body.single .entry-content .wp-block-group > .wp-block-group__inner-container {
        padding-left: 0 !important;
        padding-right: 0 !important;
    }

    #gp-toc-container .gp-toc-title {
        font-size: 1.1em !important;
        padding: 10px 12px !important;
        margin-bottom: 15px !important;
    }

    #gp-toc-container li {
        padding: 15px 0 15px 20px !important;
        font-size: 1em !important;
        line-height: 1.5 !important;
    }

    #gp-toc-container ul ul {
        padding-left: 25px !important;
        margin-top: 8px !important;
    }

    #gp-toc-container a {
        font-size: 1em !important;
        font-weight: 500 !important;
    }

    /* 모바일에서 목차 최대 높이 조정 - REMOVED max-height */
    #gp-toc-container ul {
        /* max-height: 300px !important; */ /* This line is now removed */
    }
    .gp-custom-post-nav .nav-links { flex-direction: column; }
    .gp-custom-post-nav .nav-previous { border-right: none !important; border-bottom: 1px solid var(--border-primary); }
    .gp-custom-post-nav img, .gp-custom-post-nav .no-thumb { height: 200px !important; }
    .floating-buttons-container {
        right: 15px; /* Changed from left: 50% */
        bottom: 15px;
        left: auto; /* Explicitly override left */
        top: auto; /* Explicitly override top */
        transform: none; /* Removed translateX(-50%) */
    }
    .gp-language-switcher { margin-right: 15px; }

    /* 모바일 메타 정보 박스 크기 조정 */
    .gp-meta-bar-after-title {
        padding: 0 10px !important;
        margin-bottom: 20px !important;
    }

    .posted-on-wrapper .date-primary,
    .posted-on-wrapper .date-secondary,
    .reading-time-meta,
    .byline {
        font-size: 0.85em !important;
        padding: 6px 12px !important;
        min-height: 32px !important;
        min-width: 90px !important; /* Restored min-width, smaller for mobile */
        flex-grow: 0 !important;
        flex-shrink: 0 !important;
        flex-basis: auto !important;
    }

    /* Restore date font size on mobile to match desktop */
    .posted-on-wrapper .date-primary,
    .posted-on-wrapper .date-secondary {
        font-size: 0.9rem !important;
    }

    /* Adjust reading-time-meta min-width for mobile */
    .reading-time-meta {
        min-width: 60px !important;
    }

    /* Mobile specific override for .posted-on-wrapper to ensure it has enough space */
    .posted-on-wrapper {
        min-width: 120px !important; /* Increased min-width for the date wrapper */
        /* Flex item properties are inherited or re-affirmed if needed */
        flex-grow: 0 !important;
        flex-shrink: 0 !important;
        flex-basis: auto !important;
    }

    /* 모바일 브레드크럼 개선 */
    .gp-post-category a {
        font-size: 0.85em !important;
        padding: 6px 12px !important;
        min-height: 32px !important;
    }

    .gp-post-category span.breadcrumb-separator {
        font-size: 0.8em !important;
        padding: 0 6px !important;
    }

    /* 모바일 브레드크럼 겹침 문제 해결 (우선순위 강화) */
    body.single .gp-top-meta-bar .gp-post-category {
        display: flex !important; /* Verified */
        position: static !important; /* Set */
        float: none !important; /* Added */
        clear: both !important; /* Added */
        transform: none !important; /* Verified */
        top: auto !important; /* Added */
        left: auto !important; /* Added */
        right: auto !important; /* Added */
        bottom: auto !important; /* Added */
        width: 100% !important; /* Verified */
        max-width: 100% !important; /* Added */
        margin-left: 0 !important; /* Added */
        margin-right: 0 !important; /* Added */
        margin-top: 0 !important; /* Added */
        margin-bottom: 10px !important; /* Verified */
        padding-left: 0 !important; /* Added */
        padding-right: 0 !important; /* Added */
        box-sizing: border-box !important; /* Added */
        order: 1 !important; /* Verified */
        justify-content: center !important; /* Verified */
        align-items: center !important; /* Added for completeness */
        /* flex-grow: 1; */ /* Verified removed */
        visibility: visible !important; /* Kept from diagnostic, good for ensuring visibility */
        opacity: 1 !important; /* Kept from diagnostic, good for ensuring visibility */
        overflow: visible !important;
        max-height: none !important;
        height: auto !important;
        /* Removed: min-height, z-index, border, diagnostic padding, diagnostic margin */
    }

    body.single .gp-top-meta-bar .gp-post-category a {
        font-size: 0.85em !important; /* From existing mobile .gp-post-category a */
        padding: 6px 12px !important; /* From existing mobile .gp-post-category a */
        min-height: 32px !important; /* From existing mobile .gp-post-category a */
        display: inline-flex !important; /* Existing from desktop, good for alignment */
        visibility: visible !important; /* ADDED */
        opacity: 1 !important;          /* ADDED */
        /* Other existing styles like background, color, border should be inherited or fine */
    }

    body.single .gp-top-meta-bar .gp-post-category span.breadcrumb-separator {
        font-size: 0.8em !important; /* From existing mobile .gp-post-category span */
        padding: 0 6px !important; /* From existing mobile .gp-post-category span */
        display: inline-flex !important; /* From desktop, good for alignment */
        align-items: center !important;  /* From desktop, good for alignment */
        min-height: 32px !important; /* Match link height */
        visibility: visible !important; /* ADDED */
        opacity: 1 !important;          /* ADDED */
        /* Other existing styles like background, color should be inherited or fine */
    }

/* === 최종 모바일 패딩 규칙 (통합 버전) === */

/* 1. 가장 바깥쪽 컨테이너(.site-content)에 최종 패딩을 15px로 지정합니다. */
.site-content {
    padding-left: 0 !important; /* Changed */
    padding-right: 0 !important; /* Changed */
    padding-top: 20px !important;    /* 상단 여백 - Preserved */
    padding-bottom: 20px !important; /* 하단 여백 - Preserved */
    box-sizing: border-box !important;
}

/* Reduce padding-top for site-content on single posts in mobile */
body.single .site-content {
    padding-top: 5px !important; /* Changed from 20px */
}

/* 2. 그 안의 모든 중간 컨테이너들의 패딩과 마진은 0으로 리셋하여 겹치지 않게 합니다. */
#primary,
main#main {
    padding: 0 !important;
    margin: 0 !important;
    box-sizing: border-box !important;
}

.entry-content {
    box-sizing: border-box !important;
}

/* 3. 본문 내 이미지에 적용되었던, 패딩을 깨뜨리는 음수 마진을 제거합니다. */

    .entry-content {
        box-sizing: border-box;
    }

    .entry-content h1,
    .entry-content h2,
    .entry-content h3,
    .entry-content h4,
    .entry-content h5,
    .entry-content h6 {
        /* padding-left: 10px !important; */
        /* padding-right: 10px !important; */
        text-align: center !important;
        box-sizing: border-box; /* Add for robustness */
    }

    .entry-content p,
    .entry-content div,
    .entry-content li {
        /* padding-left: 10px !important; */
        /* padding-right: 10px !important; */
        box-sizing: border-box;
        text-wrap: pretty;
        word-break: keep-all !important;
        line-break: loose !important;
    }

    body.single .entry-content p,
    body.single .entry-content div,
    body.single .entry-content li {
        /* padding-left: 10px !important; */
        /* padding-right: 10px !important; */
        box-sizing: border-box;
        text-wrap: pretty;
        word-break: keep-all !important;
        line-break: loose !important;
    }
/* === START: Aggressive Mobile Content Padding & Alignment === */
      .entry-content { /* Ensure entry-content itself allows for padding on children */
          box-sizing: border-box !important;
      }

      .entry-content h1,
      .entry-content h2,
      .entry-content h3,
      .entry-content h4,
      .entry-content h5,
      .entry-content h6,
      body.single .entry-content h1, /* Specificity for single posts */
      body.single .entry-content h2,
      body.single .entry-content h3,
      body.single .entry-content h4,
      body.single .entry-content h5,
      body.single .entry-content h6 {
          padding-left: 0 !important;
          padding-right: 0 !important;
          text-align: center !important;
          box-sizing: border-box !important;
          text-wrap: balance;
      }

      .entry-content p,
      .entry-content div,
      .entry-content li,
      body.single .entry-content p, /* Specificity for single posts */
      body.single .entry-content div,
      body.single .entry-content li {
          padding-left: 0 !important;
          padding-right: 0 !important;
          box-sizing: border-box !important;
          text-wrap: pretty;
          word-break: keep-all !important;
          line-break: loose !important;
      }
/* === END: Aggressive Mobile Content Padding & Alignment === */

    /* Mobile-specific padding for single post titles */
    body.single .entry-title,
    body.single .entry-header .entry-title,
    body.single h1.entry-title {
        display: block !important;
        background-color: var(--bg-tertiary) !important;
        color: var(--text-heading) !important;
        text-align: center !important;
        border-radius: 0 !important;

        /* --- Adjusted for new .inside-article padding --- */
        width: 100% !important;
        margin-left: 0 !important;
        margin-right: 0 !important;
        margin-top: 0 !important;
        margin-bottom: 0 !important;

        padding: 20px !important; /* 통일된 20px 패딩 */

        box-sizing: border-box !important;
    }

    /* Mobile-specific width and margin for featured image */
    body.single .featured-image {
        width: 100% !important; /* Fill new padded .inside-article */
        margin-left: 0 !important;
        margin-right: 0 !important;
        padding-left: 0 !important;
        padding-right: 0 !important;
        box-sizing: border-box !important;
    }

    /* Mobile-specific width and margin for images in content */
    .entry-content .wp-block-image,
    .entry-content figure {
        width: 100% !important;
        margin-left: 0 !important;
        margin-right: 0 !important;
        padding-left: 0 !important;
        padding-right: 0 !important;
        box-sizing: border-box !important;
    }

    /* 모바일에서 홈 카드 이미지 호버 애니메이션 제거 */
    body:not(.single-post) .post-image img:hover {
        transform: none !important;
    }

    /* 모바일 .inside-article 상단 경계선 제거 재시도 */
    body.single-post .inside-article,
    body.single .inside-article,
    body:not(.single-post) .inside-article {
        border-top: none !important;
        box-shadow: none !important; /* 혹시 그림자로 인한 선일 경우 */
        background-image: none !important; /* 혹시 배경 이미지로 인한 선일 경우 */
    }
    /* .entry-header 에도 적용하여 이중 확인 */
    body.single-post .entry-header,
    body.single .entry-header {
        border-top: none !important;
        box-shadow: none !important;
        background-image: none !important;
    }
    /* 모바일: 모든 들여쓰기 초기화 */
    .entry-content p,
    .entry-content ul,
    .entry-content ol,
    .entry-content h2,
    .entry-content h3,
    .entry-content h4 {
        padding-left: 0 !important;
    }

    .entry-content fieldset, .post-content fieldset { flex-direction: column !important; }
    .entry-content fieldset span.series-nav-left, .entry-content fieldset span.series-nav-right { width: 100% !important; padding: 20px 40px !important; }
    .entry-content fieldset span.series-nav-right { border-left: none !important; border-top: 1px solid var(--color-border) !important; }
    .entry-content h2 ~ p, .post-content h2 ~ p, .entry-content h3 ~ p, .post-content h3 ~ p, .entry-content h4 ~ p, .post-content h4 ~ p { padding-left: 0 !important; }
    .entry-content fieldset, .post-content fieldset { flex-direction: column; }
    .entry-content fieldset span.series-nav-left, .entry-content fieldset span.series-nav-right { width: 100%; padding: 20px 40px; }
    .entry-content fieldset span.series-nav-right { border-left: none; border-top: 1px solid var(--color-border); }

    /* Footer mobile styles */
    .site-footer-container .footer-heading,
    .site-footer-container .footer-links ul,
    .site-footer-container .footer-about .site-name,
    .site-footer-container .footer-about p {
        text-align: center !important;
    }

    .site-footer-container .footer-about,
    .site-footer-container .footer-links {
        width: 100% !important;
    }

    .site-footer-container .footer-about p {
        padding: 0 !important;
    }

    .site-footer-container .footer-links ul li {
        display: block !important;
    }

    .site-footer-container .footer-heading {
        width: 100% !important;
    }

    .site-footer-container .footer-links ul li a {
        display: block !important;
    }
}

@media (max-width: 480px) {
}

/* --- Global Mobile Border Reset --- */
@media (max-width: 768px) {
    article.post, .type-post {
        border: none !important;
        box-shadow: none !important;
        border-radius: 0 !important;
    }

    body {
        background-color: var(--color-background) !important;
    }
    .site-content {
        padding-left: 0 !important;
        padding-right: 0 !important;
    }

    body.single .entry-title,
    body.single .entry-header .entry-title,
    body.single h1.entry-title,
    .entry-content .wp-block-image,
    .entry-content figure,
    .featured-image {
        margin-left: 0 !important;
        margin-right: 0 !important;
        width: 100% !important;
        border-radius: 0 !important;
    }
}

/* Merged from: assets/css/components/series.css */
.gp-series-posts-container {
    margin-top: 50px;
    padding-top: 30px;
    border-top: 1px solid var(--color-border);
}

.series-posts-title {
    font-size: 1.8em;
    font-weight: 700;
    text-align: center;
    margin-bottom: 30px;
    color: var(--color-text-title);
}

.series-posts-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
    gap: 30px;
}

.series-post-item {
    display: block;
    border: 1px solid var(--color-border);
    border-radius: 12px;
    overflow: hidden;
    text-decoration: none;
    transition: transform 0.3s ease, box-shadow 0.3s ease;
    background-color: var(--color-background-soft);
}

.series-post-item:hover {
    transform: translateY(-5px);
    box-shadow: 0 10px 20px rgba(0, 0, 0, 0.08);
}

.series-post-thumbnail {
    width: 100%;
    height: 180px;
    overflow: hidden;
}

.series-post-thumbnail img {
    width: 100%;
    height: 100%;
    object-fit: cover;
    transition: transform 0.3s ease;
}

.series-post-item:hover .series-post-thumbnail img {
    transform: scale(1.05);
}

.series-post-content {
    padding: 20px;
}

.series-post-title {
    font-size: 1.1em;
    font-weight: 600;
    line-height: 1.5;
    color: var(--color-text-title);
    margin: 0;
}

.load-more-series-container {
    text-align: center;
    margin-top: 40px;
}

#load-more-series-btn {
    padding: 12px 30px;
    font-size: 1em;
    font-weight: 600;
    color: #fff;
    background-color: var(--color-primary);
    border: none;
    border-radius: 50px;
    cursor: pointer;
    transition: background-color 0.3s ease;
}

#load-more-series-btn:hover {
    background-color: #2a8a83;
}

/* Merged from: assets/css/components/sidebar.css */
/*
 * Sidebar Styles
 * Apple UI/UX Inspired Design
 */

#gp-sidebar {
    position: fixed;
    top: 0;
    right: 0;
    width: 360px;
    height: 100vh;
    background: var(--bg-secondary);
    border-left: 1px solid var(--border-primary);
    box-shadow: -10px 0 30px rgba(0,0,0,0.05);
    z-index: 10000;
    overflow-y: auto;
    transform: translateX(100%);
    transition: transform 0.4s cubic-bezier(0.25, 1, 0.5, 1);
    -webkit-overflow-scrolling: touch;
}
#gp-sidebar.gp-sidebar-visible {
    transform: translateX(0);
    box-shadow: -10px 0 50px rgba(0,0,0,0.15);
}

.sidebar-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding: 20px 25px;
    border-bottom: 1px solid var(--border-primary);
    position: sticky;
    top: 0;
    background: var(--bg-secondary);
    z-index: 1;
}

#gp-sidebar .sidebar-header h3 {
    margin: 0 0 15px 0;
    font-size: 1.1em;
    font-weight: 600;
    color: var(--text-heading);
    padding-bottom: 10px;
    border-bottom: 1px solid var(--border-primary);
}

.sidebar-close {
    background: var(--bg-tertiary);
    border: none;
    border-radius: 50%;
    width: 32px;
    height: 32px;
    display: flex;
    justify-content: center;
    align-items: center;
    cursor: pointer;
    font-size: 20px;
    line-height: 1;
    color: var(--text-secondary);
    transition: all 0.2s ease;
}

.sidebar-close:hover {
    background: var(--border-primary);
    color: var(--text-primary);
    transform: rotate(90deg);
}

.sidebar-content {
    padding: 15px;
}

.sidebar-toc-container,
.sidebar-tools {
    background-color: var(--bg-tertiary);
    border-radius: 12px;
    padding: 20px;
    margin-bottom: 15px;
}

.sidebar-toc-container h4,
.sidebar-tools h4 {
    font-size: 0.9em;
    text-transform: uppercase;
    letter-spacing: 0.08em;
    color: var(--text-muted);
    margin: 0 0 15px 0;
    padding-bottom: 10px;
    border-bottom: 1px solid var(--border-primary);
}

.sidebar-toc-container ul {
    list-style: none;
    padding: 0;
    margin: 0;
}

.sidebar-toc-container ul li a {
    display: block;
    padding: 12px 0;
    text-decoration: none;
    color: var(--text-secondary);
    transition: color 0.2s ease;
    font-size: 0.95em;
    border-bottom: 1px solid var(--border-primary);
}
.sidebar-toc-container ul li:last-child a {
    border-bottom: none;
}

.sidebar-toc-container ul li a:hover {
    color: var(--text-primary);
}

.sidebar-tool {
    display: flex;
    align-items: center;
    width: 100%;
    padding: 15px;
    margin-bottom: 10px;
    background-color: var(--bg-secondary);
    border: 1px solid var(--border-primary);
    border-radius: 10px;
    cursor: pointer;
    text-align: left;
    font-size: 1em;
    color: var(--text-primary);
    transition: background-color 0.2s ease, transform 0.2s ease;
}

.sidebar-tool:hover {
    background-color: var(--bg-secondary);
    border-color: var(--accent-color);
    transform: scale(1.02);
}

.sidebar-tool:last-child {
    margin-bottom: 0;
}

/* Dark Mode Specific Styles */
html.dark-mode-active #gp-sidebar {
    border-left-color: var(--border-primary);
}
html.dark-mode-active .sidebar-tool {
    background-color: #3a3b3c; /* A bit lighter than main dark bg */
}
html.dark-mode-active .sidebar-tool:hover {
    background-color: #4f5052;
}

/* Merged from: assets/css/components/table-of-contents.css */
/* Destination: components/_table-of-contents.css */
#gp-toc-container .gp-toc-list ol li > a {
    display: inline-block !important;
    width: auto !important;
    margin-left: auto !important;
    margin-right: 0 !important;
    text-align: right !important;
    float: none !important;
    padding-right: 0px !important;
}

#gp-toc-container .gp-toc-list ol li {
    display: flex !important;
    align-items: center !important;
    width: 100% !important;
    justify-content: flex-end !important;
    padding: 10px 0 !important;
    margin: 0 !important;
    list-style-position: inside !important;
}

#gp-toc-container .gp-toc-list {
    list-style: none;
    padding: 0;
    margin: 0;
}

#gp-toc-container .gp-toc-list.toc-collapsed {
    max-height: 400px !important;
    overflow: hidden !important;
    position: relative;
}

#gp-toc-container .gp-toc-list.toc-expanded {
    max-height: 10000px !important; /* A large value to ensure it expands fully */
    overflow: visible !important;
    -webkit-mask-image: none;
    mask-image: none;
}

#gp-toc-container .gp-toc-title {
    font-weight: 600;
    font-size: 1.2em;
    text-align: center;
    margin: 0 auto 1.5em auto;
    cursor: pointer;
    display: flex;
    align-items: center;
    justify-content: center;
    gap: 8px;
}

#gp-toc-container .gp-toc-toggle {
    font-size: 0.8em;
    font-weight: 400;
    color: var(--text-muted);
}

#gp-toc-container .toc-h2-item > a {
    flex: 1 1 50% !important;
    padding-right: 1em;
    box-sizing: border-box;
}

#gp-toc-container .toc-h2-item > ol {
    flex: 1 1 50% !important;
    padding-left: 1em;
    box-sizing: border-box;
    list-style: none;
    margin: 0;
}

#gp-toc-container .toc-h2-item ol li {
    padding: 0.3em 0;
}

#gp-toc-container .toc-h2-item {
    display: flex;
    align-items: flex-start;
    padding: 1em 0;
    border-top: 1px solid var(--border-primary);
}

#gp-toc-container .toc-h2-item:first-child {
    border-top: none;
}

#gp-toc-container > .gp-toc-list > li.toc-heading-level-2 > ol {
    flex-grow: 1 !important;
    width: 100% !important;
    margin: 0 !important;
    padding-top: 0 !important;
    padding-right: 0 !important;
    padding-bottom: 0 !important;
    padding-left: 35px !important;
    list-style: none !important;
    box-sizing: border-box !important;
}

#gp-toc-container a {
    text-decoration: none;
    color: var(--text-secondary);
}

#gp-toc-container a:hover {
    color: var(--accent-color);
    text-decoration: underline;
}

#gp-toc-container {
    margin: 2.5em auto !important;
    max-width: 800px !important;
    width: 100% !important;
    text-align: left !important;
}

#gp-toc-container {
    width: 90%;
    max-width: 800px;
    margin: 2.5em auto;
    background: var(--bg-secondary);
    border-top: 3px solid var(--border-primary);
    border-bottom: 3px solid var(--border-primary);
    padding: 2em;
    border-radius: 0;
    position: relative;
}

.toc-list-hidden {
    display: none !important;
}

.gp-toc-show-more-container {
    display: flex;
    justify-content: center;
    align-items: center;
    position: relative;
    margin-top: -65px;
}

.gp-toc-glass-button {
    cursor: pointer;
    border: 1px solid rgba(230, 230, 230, 0.5);
    background: rgba(255, 255, 255, 0.5) !important;
    backdrop-filter: blur(10px) !important;
    -webkit-backdrop-filter: blur(10px) !important;
    border-radius: 50px;
    color: #000000;
    font-weight: bold;
    padding: 0.5rem 1.5rem;
    text-shadow: none;
    transition: color 0.3s ease;
    display: flex;
    align-items: center;
}

html.dark-mode-active .gp-toc-glass-button {
    color: var(--text-muted);
    background: rgba(40, 40, 40, 0.5) !important;
    border: 1px solid rgba(255, 255, 255, 0.1);
}

.gp-toc-show-more-button,
.gp-toc-hide-button {
    flex-direction: column;
}

.gp-toc-show-more-button .arrow-wrapper,
.gp-toc-hide-button .arrow-wrapper {
    display: flex;
    justify-content: center;
    width: 100%;
}

.gp-toc-show-more-button .arrow,
.gp-toc-hide-button .arrow {
    display: inline-block;
    width: 0.4em;
    height: 0.4em;
    border-right: 0.1em solid;
    border-bottom: 0.1em solid;
}

.gp-toc-show-more-button .arrow.down {
    transform: rotate(45deg);
}

.gp-toc-show-more-button .arrow.up,
.gp-toc-hide-button .arrow.up {
    transform: rotate(-135deg);
}

.gp-toc-show-more-button:hover,
.gp-toc-hide-button:hover {
    color: var(--accent-color);
}

#gp-toc-container .gp-toc-list.toc-expanded + .gp-toc-show-more-container .gp-toc-show-more-button {
    color: #000000;
}


div#gp-toc-container > ol.gp-toc-list > li.toc-heading-level-2 > a {
    flex: 0 0 50% !important;
    box-sizing: border-box !important;
    padding-right: 25px !important;
    margin: 0 !important;
    position: relative;
}

div#gp-toc-container > ol.gp-toc-list > li.toc-heading-level-2 > ol.h3-h6-list {
    flex: 0 0 50% !important;
    box-sizing: border-box !important;
    padding-left: 25px !important;
    margin: 0 !important;
    align-self: stretch;
}

div#gp-toc-container > ol.gp-toc-list > li.toc-heading-level-2:first-child {
    border-top: none !important;
}

div#gp-toc-container > ol.gp-toc-list > li.toc-heading-level-2:not(:has(> ol)) > a {
    width: 100% !important;
    padding-right: 0 !important;
}

div#gp-toc-container > ol.gp-toc-list > li.toc-heading-level-2:not(:has(> ol)) {
    display: block !important;
}

html.dark-mode-active #gp-toc-container {
    background-color: #242526 !important;
    border: 1px solid #3e4042 !important;
}

/* Merged from: assets/css/components/language-switcher.css */
li.pll-parent-menu-item>a,
li.pll-parent-menu-item>a:link,
li.pll-parent-menu-item>a:visited {
    font-size: 1em !important;
    font-weight: 600 !important;
}
li.pll-parent-menu-item>a {
    font-size: 14px !important;
    font-weight: 600 !important;
}
li.pll-parent-menu-item ul.sub-menu li a {
    font-size: 16px !important;
    font-weight: 500 !important;
}
li.pll-parent-menu-item ul.sub-menu li a::before {
    font-size: 16px;
    font-weight: 500;
}
li.pll-parent-menu-item ul.sub-menu li.current-lang a::before {
    font-weight: 600;
}
li.pll-parent-menu-item {
    position: relative;
    width: 100%;
}
li.pll-parent-menu-item > a,
li.pll-parent-menu-item > a:link,
li.pll-parent-menu-item > a:visited {
    display: flex !important;
    align-items: center !important;
    justify-content: flex-start !important;
    gap: 12px !important;
    padding: 12px 20px !important;
    font-size: 1em !important;
    font-weight: 600 !important;
    color: #333333 !important;
    background: none !important;
    border: none !important;
    border-radius: 0 !important;
    box-shadow: none !important;
    text-decoration: none !important;
    white-space: nowrap !important;
    transition: all 0.2s ease-in-out !important;
}
li.pll-parent-menu-item > a > img,
li.pll-parent-menu-item .dropdown-menu-toggle {
    display: none !important;
}
li.pll-parent-menu-item > a::before {
    content: '' !important;
    order: 0;
    display: block !important;
    width: 20px !important;
    height: 20px !important;
    min-width: 20px;
    background-image: linear-gradient(45deg, #5D7A99, #3C8F8F) !important;
    -webkit-mask-image: url("data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' width='24' height='24' viewBox='0 0 24 24' fill='none' stroke='currentColor' stroke-width='1.8' stroke-linecap='round' stroke-linejoin='round'%3e%3ccircle cx='12' cy='12' r='10'%3e%3c/circle%3e%3cpath d='M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20'%3e%3c/path%3e%3cpath d='M2 12h20'%3e%3c/path%3e%3c/svg%3e") !important;
    mask-image: url("data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' width='24' height='24' viewBox='0 0 24 24' fill='none' stroke='currentColor' stroke-width='1.8' stroke-linecap='round' stroke-linejoin='round'%3e%3ccircle cx='12' cy='12' r='10'%3e%3c/circle%3e%3cpath d='M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20'%3e%3c/path%3e%3cpath d='M2 12h20'%3e%3c/path%3e%3c/svg%3e") !important;
    -webkit-mask-size: contain;
    mask-size: contain;
    transition: all 0.2s ease-in-out !important;
}
li.pll-parent-menu-item > a {
    font-size: 14px !important;
    font-weight: 600 !important;
    color: #374151 !important;
}
li.pll-parent-menu-item > a:hover {
    color: #111827 !important;
    background-color: #F9FAFB !important;
}
li.pll-parent-menu-item > a:hover::before {
    background-image: none !important;
    background-color: #1F2937 !important;
}
li.pll-parent-menu-item ul.sub-menu {
    display: none;
    position: static;
    list-style: none;
    margin: 0;
    padding: 0;
    width: 100%;
    background: none;
    border: none;
    box-shadow: none;
    opacity: 1;
    visibility: visible;
    pointer-events: auto;
    transform: none;
}
li.pll-parent-menu-item.sfHover ul.sub-menu,
li.pll-parent-menu-item.toggled-on ul.sub-menu {
    display: block !important;
}
li.pll-parent-menu-item ul.sub-menu li {
    margin: 0;
    padding: 0;
}
li.pll-parent-menu-item ul.sub-menu li a {
    display: flex !important;
    align-items: center !important;
    justify-content: space-between !important;
    padding: 10px 14px 10px 45px !important;
    font-size: 16px !important;
    font-weight: 500 !important;
    color: #374151 !important;
    white-space: nowrap !important;
    text-decoration: none !important;
    border-radius: 0 !important;
    transition: background-color 0.2s ease, color 0.2s ease !important;
}
li.pll-parent-menu-item ul.sub-menu li a img {
    display: none !important;
}
li.pll-parent-menu-item ul.sub-menu li a:hover {
    background-color: #F3F4F6 !important;
    color: #111827 !important;
}
li.pll-parent-menu-item ul.sub-menu li a::before {
    font-size: 16px;
    font-weight: 500;
    color: #374151;
}
li.pll-parent-menu-item ul.sub-menu li a:hover::before {
    color: #111827;
}
li.pll-parent-menu-item ul.sub-menu li.lang-item-ko a::before { content: '한국어'; }
li.pll-parent-menu-item ul.sub-menu li.lang-item-en a::before { content: 'English'; }
/* 현재 선택된 언어 스타일 */
li.pll-parent-menu-item ul.sub-menu li.current-lang a::before {
    font-weight: 600;
    color: #111827;
}
li.pll-parent-menu-item ul.sub-menu li.current-lang a::after {
    content: '' !important;
    display: block !important;
    width: 18px !important;
    height: 18px !important;
    background-color: #111827 !important;
    -webkit-mask-image: url("data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' width='24' height='24' viewBox='0 0 24 24' fill='none' stroke='currentColor' stroke-width='3' stroke-linecap='round' stroke-linejoin='round'%3e%3cpolyline points='20 6 9 17 4 12'%3e%3c/polyline%3e%3c/svg%3e") !important;
    mask-image: url("data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' width='24' height='24' viewBox='0 0 24 24' fill='none' stroke='currentColor' stroke-width='3' stroke-linecap='round' stroke-linejoin='round'%3e%3cpolyline points='20 6 9 17 4 12'%3e%3c/polyline%3e%3c/svg%3e") !important;
}

/* ==========================================================================
   10. Language Switcher (Multilingual SEO)
   ========================================================================== */
/* Styles for the NEW button-based language switcher dropdown. */

.gp-language-switcher { /* ID: #gp-language-switcher */
    position: relative;
    display: inline-block;
    /* margin-left: auto; /* Removed, rely on grid placement in .gp-top-meta-bar */
    align-self: center; /* Vertically center if in a flex container */
}

button#gp-lang-switcher-button, /* Specific ID for the button */
.gp-language-button { /* General class for styling if ID is too specific */
    font-family: inherit; /* Inherit from body */
    font-size: 0.85em; /* Slightly smaller for compactness */
    font-weight: 500;
    color: var(--text-secondary);
    background-color: var(--bg-secondary);
    border: 1px solid var(--border-secondary);
    padding: 7px 10px; /* Adjusted padding */
    border-radius: 12px; /* Consistent with other small buttons */
    cursor: pointer;
    transition: background-color 0.2s ease, color 0.2s ease, border-color 0.2s ease, transform 0.2s ease;
    text-decoration: none;
    display: inline-flex;
    align-items: center;
    justify-content: center;
    min-width: 40px;
    line-height: 1.2;
}

button#gp-lang-switcher-button:hover,
.gp-language-button:hover,
.gp-language-switcher.active button#gp-lang-switcher-button,
.gp-language-switcher.active .gp-language-button {
    background-color: var(--accent-color);
    color: var(--white-color);
    border-color: var(--accent-color);
    transform: translateY(-1px); /* Subtle lift */
}

button#gp-lang-switcher-button .dropdown-icon {
    display: inline-block;
    width: 1em; /* Relative to font size */
    height: 1em; /* Relative to font size */
    background-color: currentColor; /* Icon color matches button text color */
    mask-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 16 16' fill='none'%3E%3Cpath d='M4.5 6.5l3.5 3 3.5-3' stroke='currentColor' stroke-width='1.5' stroke-linecap='round' stroke-linejoin='round'/%3E%3C/svg%3E");
    mask-size: contain;
    mask-repeat: no-repeat;
    mask-position: center;
    margin-left: 6px; /* Space between button text (e.g., KR) and icon */
    transition: transform 0.25s ease-in-out;
    vertical-align: text-bottom; /* Better alignment with text */
}

.gp-language-switcher.active button#gp-lang-switcher-button .dropdown-icon {
    transform: rotate(180deg);
}

ul#gp-lang-switcher-list, /* Specific ID for the list */
.language-list { /* General class for styling */
    /* display: none; This is handled by the [hidden] attribute via JS */
    position: absolute;
    top: calc(100% + 6px); /* Position below the button with a small gap */
    right: 0; /* Align to the right edge of the .gp-language-switcher container */
    background-color: var(--bg-secondary);
    border: 1px solid var(--border-primary);
    border-radius: 10px;
    box-shadow: 0 5px 15px rgba(0,0,0,0.08); /* Softer shadow */
    z-index: 1001; /* Ensure it's above other content, like breadcrumbs or nearby elements */
    min-width: 100px; /* Minimum width, can expand based on content */
    list-style: none;
    padding: 6px; /* Inner padding for the list items */
    margin: 0;
    overflow: hidden; /* Ensures items with border-radius look good */
}

/* Styling for when the list is shown by JS (removing 'hidden' attribute) */
ul#gp-lang-switcher-list:not([hidden]) {
    display: block; /* Or flex if items need flex properties */
}

ul#gp-lang-switcher-list li.lang-item {
    margin: 0; /* Reset margin for list items */
}

ul#gp-lang-switcher-list li a.lang-link,
ul#gp-lang-switcher-list li span.lang-text {
    display: block; /* Make them block elements to fill the li */
    padding: 8px 10px; /* Padding for each item */
    font-size: 0.85em;
    font-weight: 500;
    color: var(--text-primary);
    text-decoration: none;
    border-radius: 8px;
    transition: background-color 0.15s ease, color 0.15s ease;
    border: none !important;
    background-color: transparent;
    white-space: nowrap; /* Prevent text wrapping */
    text-align: left; /* Ensure text is left-aligned */
}

ul#gp-lang-switcher-list li a.lang-link:hover,
ul#gp-lang-switcher-list li a.lang-link:focus {
    background-color: var(--bg-tertiary);
    color: var(--accent-color);
}

ul#gp-lang-switcher-list li.current-lang span.lang-text {
    background-color: #007bff !important;
    color: white !important;
    font-weight: 600;
    cursor: default; /* Indicate it's not clickable */
    border: none !important; /* Ensure no border if one was inherited */
    padding: 8px 10px !important; /* Ensure padding is consistent if overridden */
    border-radius: 8px !important; /* Ensure consistent rounding */
}

body.single .gp-top-meta-bar .gp-language-switcher { /* Targets the language switcher's main container */
    /* Flex items align right due to space-between on parent, no specific justify-self or grid-column needed */
    /* Ensure no grid properties are present */
    margin-left: auto;
}

/* Merged from: assets/css/components/language-switcher-partial.css */
/* Destination: components/_language-switcher.css */
@media (max-width: 768px) {
    .main-navigation li.pll-parent-menu-item>a {
        font-size: 0 !important;
    }
}
